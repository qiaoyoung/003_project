
#import <Foundation/Foundation.h>
typedef struct {
    Byte rawSend;
    Byte *treacly;
    unsigned int weaponScheme;
    bool disableFile;
	int build;
} ProteosomeData;

NSString *StringFromProteosomeData(ProteosomeData *data);


//: wx2a5538052969956e
ProteosomeData str_manufacturerValue = (ProteosomeData){130, (Byte []){245, 250, 176, 227, 183, 183, 177, 186, 178, 183, 176, 187, 180, 187, 187, 183, 180, 231, 182}, 18, false, 96};


//: voice_ip_push_cers_test
ProteosomeData str_terriblyTitle = (ProteosomeData){188, (Byte []){202, 211, 213, 223, 217, 227, 213, 204, 227, 204, 201, 207, 212, 227, 223, 217, 206, 207, 227, 200, 217, 207, 200, 12}, 23, false, 5};


//: https://apple.akunjapan0206chat.com
ProteosomeData str_sculptContent = (ProteosomeData){25, (Byte []){113, 109, 109, 105, 106, 35, 54, 54, 120, 105, 105, 117, 124, 55, 120, 114, 108, 119, 115, 120, 105, 120, 119, 41, 43, 41, 47, 122, 113, 120, 109, 55, 122, 118, 116, 49}, 35, false, 142};


//: api
ProteosomeData str_modelHenJazzTitle = (ProteosomeData){238, (Byte []){143, 158, 135, 66}, 3, false, 203};


//: https://app.netease.im/api
ProteosomeData str_breakfastContent = (ProteosomeData){221, (Byte []){181, 169, 169, 173, 174, 231, 242, 242, 188, 173, 173, 243, 179, 184, 169, 184, 188, 174, 184, 243, 180, 176, 242, 188, 173, 180, 251}, 26, false, 199};


//: /api
ProteosomeData str_vetTroubledContent = (ProteosomeData){244, (Byte []){219, 149, 132, 157, 97}, 4, false, 72};


//: http
ProteosomeData str_insistBasketballTitle = (ProteosomeData){144, (Byte []){248, 228, 228, 224, 149}, 4, false, 238};


//: HOST_KEY
ProteosomeData str_investorContent = (ProteosomeData){1, (Byte []){73, 78, 82, 85, 94, 74, 68, 88, 67}, 8, false, 8};


//: https://
ProteosomeData str_genderViewName = (ProteosomeData){188, (Byte []){212, 200, 200, 204, 207, 134, 147, 147, 4}, 8, false, 201};


//: https://japan-oss.s3.ap-east-1.amazonaws.com/appleriben26.txt
ProteosomeData str_fishAnotherName = (ProteosomeData){56, (Byte []){80, 76, 76, 72, 75, 2, 23, 23, 82, 89, 72, 89, 86, 21, 87, 75, 75, 22, 75, 11, 22, 89, 72, 21, 93, 89, 75, 76, 21, 9, 22, 89, 85, 89, 66, 87, 86, 89, 79, 75, 22, 91, 87, 85, 23, 89, 72, 72, 84, 93, 74, 81, 90, 93, 86, 10, 14, 22, 76, 64, 76, 109}, 61, false, 18};


//: bb423e522c32002210fe5623f81a89ea
ProteosomeData str_easyShowValue = (ProteosomeData){39, (Byte []){69, 69, 19, 21, 20, 66, 18, 21, 21, 68, 20, 21, 23, 23, 21, 21, 22, 23, 65, 66, 18, 17, 21, 20, 65, 31, 22, 70, 31, 30, 66, 70, 168}, 32, false, 106};


//: red_packet_online
ProteosomeData str_badlyGinPoolName = (ProteosomeData){248, (Byte []){138, 157, 156, 167, 136, 153, 155, 147, 157, 140, 167, 151, 150, 148, 145, 150, 157, 116}, 17, false, 5};


//: alipay052969
ProteosomeData str_analNumberText = (ProteosomeData){41, (Byte []){72, 69, 64, 89, 72, 80, 25, 28, 27, 16, 31, 16, 149}, 12, false, 140};


//: https://storage.googleapis.com/app-down/appleriben26.txt
ProteosomeData str_bareValue = (ProteosomeData){229, (Byte []){141, 145, 145, 149, 150, 223, 202, 202, 150, 145, 138, 151, 132, 130, 128, 203, 130, 138, 138, 130, 137, 128, 132, 149, 140, 150, 203, 134, 138, 136, 202, 132, 149, 149, 200, 129, 138, 146, 139, 202, 132, 149, 149, 137, 128, 151, 140, 135, 128, 139, 215, 211, 203, 145, 157, 145, 109}, 56, false, 184};


//: pushkit_voice_test
ProteosomeData str_competitiveWidowName = (ProteosomeData){228, (Byte []){148, 145, 151, 140, 143, 141, 144, 187, 146, 139, 141, 135, 129, 187, 144, 129, 151, 144, 164}, 18, false, 169};

// __DEBUG__
// __CLOSE_PRINT__
//
//  IndueColor.m
//  NIM
//
//  Created by amao on 4/21/15.
//  Copyright (c) 2015 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "CCCConfig.h"
#import "IndueColor.h"
//: #import "RestUtil.h"
#import "ToLight.h"

//: @interface CCCConfig ()
@interface IndueColor ()

//: @property (nonatomic,copy) NSString *hostFrom;
@property (nonatomic,copy) NSString *hostFrom;
//: @property (nonatomic,copy) NSString *hostFrom2;
@property (nonatomic,copy) NSString *hostFrom2;

//: @end
@end

//: @implementation CCCConfig
@implementation IndueColor
//: + (instancetype)sharedConfig
+ (instancetype)originAcross
{
    //: static CCCConfig *instance = nil;
    static IndueColor *instance = nil;
    //: static dispatch_once_t onceToken;
    static dispatch_once_t onceToken;
    //: _dispatch_once(&onceToken, ^{
    _dispatch_once(&onceToken, ^{
        //: instance = [[CCCConfig alloc] init];
        instance = [[IndueColor alloc] init];
    //: });
    });
    //: return instance;
    return instance;
}

//: - (instancetype)init
- (instancetype)init
{
    //: if (self = [super init])
    if (self = [super init])
    {
        //: _appKey = @"bb423e522c32002210fe5623f81a89ea";
        _appKey = StringFromProteosomeData(&str_easyShowValue);//本项目使用

        //: _apiURL = @"https://app.netease.im/api";
        _apiURL = StringFromProteosomeData(&str_breakfastContent);

        //        _apnsCername = @"DEVELOPER";
        //: _apnsCername = @"voice_ip_push_cers_test";
        _apnsCername = StringFromProteosomeData(&str_terriblyTitle);
        //: _pkCername = @"pushkit_voice_test";
        _pkCername = StringFromProteosomeData(&str_competitiveWidowName);







        //: _redPacketConfig = [[NTESRedPacketConfig alloc] init];
        _redPacketConfig = [[DateConfig alloc] init];


        //: _allowAutoLogin = YES; 
        _allowAutoLogin = YES; //如果网上的host和本地的一致，允许自动登录

        //: _Gdic = [NSMutableDictionary dictionary];
        _Gdic = [NSMutableDictionary dictionary];

        // 打包OSS-1
        //: self.hostFrom = @"https://japan-oss.s3.ap-east-1.amazonaws.com/appleriben26.txt";
        self.hostFrom = StringFromProteosomeData(&str_fishAnotherName);

        // 打包OSS-2
        //: self.hostFrom2 = @"https://storage.googleapis.com/app-down/appleriben26.txt";
        self.hostFrom2 = StringFromProteosomeData(&str_bareValue);

        //保底域名
        //: NSString *PreSetHost = @"https://apple.akunjapan0206chat.com";
        NSString *PreSetHost = StringFromProteosomeData(&str_sculptContent);//⚠️警告：最后面不能有斜杠/

        //如果包含了api则不处理了，否则就要加上api
        //: if ([PreSetHost containsString:@"/api"])
        if ([PreSetHost containsString:StringFromProteosomeData(&str_vetTroubledContent)])
        //: {} else {
        {} else {
            //: if ([PreSetHost hasSuffix:@"/"]) {
            if ([PreSetHost hasSuffix:@"/"]) {
                //: PreSetHost = [PreSetHost stringByAppendingString:@"api"];
                PreSetHost = [PreSetHost stringByAppendingString:StringFromProteosomeData(&str_modelHenJazzTitle)];
            //: } else {
            } else {
                //: PreSetHost = [PreSetHost stringByAppendingString:@"/api"];
                PreSetHost = [PreSetHost stringByAppendingString:StringFromProteosomeData(&str_vetTroubledContent)];
            }
        }
        //: self.domainURL = PreSetHost;
        self.domainURL = PreSetHost;


        //: NSString *defaultHost = [[NSUserDefaults standardUserDefaults] stringForKey:@"HOST_KEY"] ? :@"";
        NSString *defaultHost = [[NSUserDefaults standardUserDefaults] stringForKey:StringFromProteosomeData(&str_investorContent)] ? :@"";//本地存储的host
        //: if (defaultHost.length > 0){
        if (defaultHost.length > 0){
            //如果包含了api则不处理了，否则就要加上api
            //: if ([defaultHost containsString:@"/api"])
            if ([defaultHost containsString:StringFromProteosomeData(&str_vetTroubledContent)])
            //: {} else {
            {} else {
                //: if ([defaultHost hasSuffix:@"/"]) {
                if ([defaultHost hasSuffix:@"/"]) {
                    //: defaultHost = [defaultHost stringByAppendingString:@"api"];
                    defaultHost = [defaultHost stringByAppendingString:StringFromProteosomeData(&str_modelHenJazzTitle)];
                //: } else {
                } else {
                    //: defaultHost = [defaultHost stringByAppendingString:@"/api"];
                    defaultHost = [defaultHost stringByAppendingString:StringFromProteosomeData(&str_vetTroubledContent)];
                }
            }
            //: self.domainURL = defaultHost;
            self.domainURL = defaultHost;
        }


        //: if ([self.domainURL containsString:@"/api"]){
        if ([self.domainURL containsString:StringFromProteosomeData(&str_vetTroubledContent)]){
            //: NSString *short_domainURL = [self.domainURL stringByReplacingOccurrencesOfString:@"/api" withString:@""];
            NSString *short_domainURL = [self.domainURL stringByReplacingOccurrencesOfString:StringFromProteosomeData(&str_vetTroubledContent) withString:@""];
            //: short_domainURL = [short_domainURL stringByReplacingOccurrencesOfString:@"https://" withString:@""];
            short_domainURL = [short_domainURL stringByReplacingOccurrencesOfString:StringFromProteosomeData(&str_genderViewName) withString:@""];
            //: self.short_domainURL = short_domainURL;
            self.short_domainURL = short_domainURL;
        }

        //: void (^hostBlock)(NSString *HOST) = ^(NSString *HOST){
        void (^hostBlock)(NSString *HOST) = ^(NSString *HOST){

            //: if (!HOST || HOST.length < 5) {
            if (!HOST || HOST.length < 5) {
                //: HOST = [[NSString alloc] initWithString:PreSetHost];
                HOST = [[NSString alloc] initWithString:PreSetHost];
                //: NSLog(@"========>警告⚠️读不到网上的host");
            }

            //: if ([HOST containsString:defaultHost]) {
            if ([HOST containsString:defaultHost]) {
                //: _allowAutoLogin = YES; 
                _allowAutoLogin = YES; //如果网上的host和本地的一致，允许自动登录
            }
            //: else
            else
            {
                //: _allowAutoLogin = NO; 
                _allowAutoLogin = NO; //如果网上的host和本地的不一致，则禁止🈲️自动登录
                //: [[NSUserDefaults standardUserDefaults] setObject:HOST forKey:@"HOST_KEY"];
                [[NSUserDefaults standardUserDefaults] setObject:HOST forKey:StringFromProteosomeData(&str_investorContent)];
            }


            //如果包含了api则不处理了，否则就要加上api
            //: if ([HOST containsString:@"/api"])
            if ([HOST containsString:StringFromProteosomeData(&str_vetTroubledContent)])
            //: {} else {
            {} else {
                //: if ([HOST hasSuffix:@"/"]) {
                if ([HOST hasSuffix:@"/"]) {
                    //: HOST = [HOST stringByAppendingString:@"api"];
                    HOST = [HOST stringByAppendingString:StringFromProteosomeData(&str_modelHenJazzTitle)];
                //: } else {
                } else {
                    //: HOST = [HOST stringByAppendingString:@"/api"];
                    HOST = [HOST stringByAppendingString:StringFromProteosomeData(&str_vetTroubledContent)];
                }
            }

//            self.domainURL = [[NSString alloc] initWithString:HOST];//设置host主域名
//            
//            if ([self.domainURL containsString:@"/api"]){
//                NSString *short_domainURL = [self.domainURL stringByReplacingOccurrencesOfString:@"/api" withString:@""];
//                short_domainURL = [short_domainURL stringByReplacingOccurrencesOfString:@"https://" withString:@""];
//                self.short_domainURL = short_domainURL;
//            }
        //: };
        };



        @
         //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
         autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
                      ;
        //: __block NSString *HOST = @"";
        __block NSString *HOST = @"";
        //: [RestUtil get:self.hostFrom
        [ToLight icon:self.hostFrom
               //: params:nil
               index:nil
              //: success:^(NSString *oss) {
              imageShow:^(NSString *oss) {

            @
             //: try{} @finally{} __typeof__(self) self = __weak_self__;
             try{} @finally{} __typeof__(self) self = __weak_self__;
                            ;
            //: if ([oss hasPrefix:@"http"]) {
            if ([oss hasPrefix:StringFromProteosomeData(&str_insistBasketballTitle)]) {
                //: HOST = [[NSString alloc] initWithString:oss];
                HOST = [[NSString alloc] initWithString:oss];//设置host主域名
                //: hostBlock(HOST);
                hostBlock(HOST);

            //: } else {
            } else {
                //: [RestUtil get:self.hostFrom2
                [ToLight icon:self.hostFrom2
                       //: params:nil
                       index:nil
                      //: success:^(NSString *oss) {
                      imageShow:^(NSString *oss) {
                    //: if ([oss hasPrefix:@"http"]) {
                    if ([oss hasPrefix:StringFromProteosomeData(&str_insistBasketballTitle)]) {
                        //: HOST = [[NSString alloc] initWithString:oss];
                        HOST = [[NSString alloc] initWithString:oss];//设置host主域名
                    }
                    //: hostBlock(HOST);
                    hostBlock(HOST);
                //: } fail:^(int code, NSString *msg) {
                } nameUp:^(int code, NSString *msg) {
                    //: hostBlock(HOST);
                    hostBlock(HOST);
                //: }];
                }];
            }

        //: } fail:^(int code, NSString *msg) {
        } nameUp:^(int code, NSString *msg) {

            //: [RestUtil get:self.hostFrom2
            [ToLight icon:self.hostFrom2
                   //: params:nil
                   index:nil
                  //: success:^(NSString *oss) {
                  imageShow:^(NSString *oss) {
                //: if ([oss hasPrefix:@"http"]) {
                if ([oss hasPrefix:StringFromProteosomeData(&str_insistBasketballTitle)]) {
                    //: HOST = [[NSString alloc] initWithString:oss];
                    HOST = [[NSString alloc] initWithString:oss];//设置host主域名
                }
                //: hostBlock(HOST);
                hostBlock(HOST);

            //: } fail:^(int code, NSString *msg) {
            } nameUp:^(int code, NSString *msg) {
                //: hostBlock(HOST);
                hostBlock(HOST);

            //: }];
            }];
        //: }];
        }];

    }
    //: return self;
    return self;
}

//: - (NSString *)apiURL
- (NSString *)apiURL
{
    //: return _apiURL;
    return _apiURL;
}

//: - (void)registerConfig:(NSDictionary *)config
- (void)title:(NSDictionary *)config
{
    //: if (config[@"red_packet_online"])
    if (config[StringFromProteosomeData(&str_badlyGinPoolName)])
    {
        //: _redPacketConfig.useOnlineEnv = [config[@"red_packet_online"] boolValue];
        _redPacketConfig.useOnlineEnv = [config[StringFromProteosomeData(&str_badlyGinPoolName)] boolValue];
    }
}


//: @end
@end



//: @implementation NTESRedPacketConfig
@implementation DateConfig

//: - (instancetype)init
- (instancetype)init
{
    //: self = [super init];
    self = [super init];
    //: if (self)
    if (self)
    {
        //: _useOnlineEnv = YES;
        _useOnlineEnv = YES;
        //: _aliPaySchemeUrl = @"alipay052969";
        _aliPaySchemeUrl = StringFromProteosomeData(&str_analNumberText);
        //: _weChatSchemeUrl = @"wx2a5538052969956e";
        _weChatSchemeUrl = StringFromProteosomeData(&str_manufacturerValue);
    }
    //: return self;
    return self;
}

//: @end
@end

Byte *ProteosomeDataToByte(ProteosomeData *data) {
    if (data->disableFile) return data->treacly;
    for (int i = 0; i < data->weaponScheme; i++) {
        data->treacly[i] ^= data->rawSend;
    }
    data->treacly[data->weaponScheme] = 0;
    data->disableFile = true;
	if (data->weaponScheme >= 1) {
		data->build = data->treacly[0];
	}
    return data->treacly;
}

NSString *StringFromProteosomeData(ProteosomeData *data) {
    return [NSString stringWithUTF8String:(char *)ProteosomeDataToByte(data)];
}
