
#import <Foundation/Foundation.h>

NSString *StringFromInformationData(Byte *data);


//: ios
Byte str_providerCuriousRecordName[] = {90, 3, 10, 150, 31, 14, 89, 200, 66, 105, 115, 111, 105, 149};


//: #F6F6F6
Byte str_gestureYardLimbValue[] = {25, 7, 13, 116, 209, 9, 21, 199, 177, 37, 107, 178, 137, 54, 70, 54, 70, 54, 70, 35, 117};


//: activity_register_agree
Byte str_postImposeName[] = {59, 23, 13, 59, 205, 39, 13, 171, 249, 111, 7, 162, 48, 101, 101, 114, 103, 97, 95, 114, 101, 116, 115, 105, 103, 101, 114, 95, 121, 116, 105, 118, 105, 116, 99, 97, 156};


//: login_agreement_normal
Byte str_duringName[] = {4, 22, 4, 166, 108, 97, 109, 114, 111, 110, 95, 116, 110, 101, 109, 101, 101, 114, 103, 97, 95, 110, 105, 103, 111, 108, 11};


//: login_icon_pwd
Byte str_inputProofName[] = {51, 14, 10, 180, 185, 30, 139, 43, 203, 88, 100, 119, 112, 95, 110, 111, 99, 105, 95, 110, 105, 103, 111, 108, 4};


//: systems
Byte str_sessionMissingValue[] = {63, 7, 5, 231, 197, 115, 109, 101, 116, 115, 121, 115, 250};


//: #333333
Byte str_linkCellValue[] = {93, 7, 12, 167, 223, 107, 97, 78, 3, 116, 251, 88, 51, 51, 51, 51, 51, 51, 35, 69};


//: login_bg
Byte str_relateShouldName[] = {85, 8, 13, 204, 83, 128, 105, 54, 71, 66, 192, 40, 19, 103, 98, 95, 110, 105, 103, 111, 108, 33};


//: login_activity_login_failed
Byte str_brotherCedeTitle[] = {23, 27, 12, 190, 81, 31, 240, 183, 205, 122, 50, 76, 100, 101, 108, 105, 97, 102, 95, 110, 105, 103, 111, 108, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 110, 105, 103, 111, 108, 56};


//: deviceid
Byte str_hareKickTitle[] = {11, 8, 3, 100, 105, 101, 99, 105, 118, 101, 100, 2};


//: register_account_activity_account
Byte str_combineName[] = {44, 33, 12, 247, 15, 230, 14, 150, 241, 249, 170, 115, 116, 110, 117, 111, 99, 99, 97, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 116, 110, 117, 111, 99, 99, 97, 95, 114, 101, 116, 115, 105, 103, 101, 114, 223};


//: ic_visible
Byte str_townProgressText[] = {41, 10, 12, 35, 87, 45, 245, 183, 223, 50, 241, 143, 101, 108, 98, 105, 115, 105, 118, 95, 99, 105, 84};


//: UserPassWord
Byte str_activityText[] = {11, 12, 11, 109, 153, 241, 253, 232, 136, 2, 45, 100, 114, 111, 87, 115, 115, 97, 80, 114, 101, 115, 85, 105};


//: Read_agree_agreement
Byte str_refugeeValue[] = {65, 20, 10, 124, 22, 98, 4, 90, 195, 242, 116, 110, 101, 109, 101, 101, 114, 103, 97, 95, 101, 101, 114, 103, 97, 95, 100, 97, 101, 82, 138};


//: #8282A7
Byte str_relateData[] = {51, 7, 5, 111, 86, 55, 65, 50, 56, 50, 56, 35, 191};


//: client
Byte str_personalityData[] = {27, 6, 12, 32, 100, 197, 43, 147, 31, 178, 66, 10, 116, 110, 101, 105, 108, 99, 102};


//: /user/login
Byte str_statusShowName[] = {94, 11, 3, 110, 105, 103, 111, 108, 47, 114, 101, 115, 117, 47, 137};


//: ppp
Byte str_kickFishingDateName[] = {53, 3, 10, 177, 207, 134, 136, 124, 105, 120, 112, 112, 112, 56};


//: token
Byte str_balanceTingName[] = {38, 5, 12, 224, 179, 126, 74, 106, 207, 247, 178, 111, 110, 101, 107, 111, 116, 138};


//: __SCOPED__
Byte str_plainDateRelateTitle[] = {3, 10, 8, 71, 217, 165, 83, 241, 95, 95, 68, 69, 80, 79, 67, 83, 95, 95, 150};


//: ic_invisible
Byte str_linkBalanceTitle[] = {95, 12, 5, 216, 71, 101, 108, 98, 105, 115, 105, 118, 110, 105, 95, 99, 105, 82};


//: activity_login_has_no_account
Byte str_byCountroduceName[] = {98, 29, 8, 165, 76, 6, 108, 246, 116, 110, 117, 111, 99, 99, 97, 95, 111, 110, 95, 115, 97, 104, 95, 110, 105, 103, 111, 108, 95, 121, 116, 105, 118, 105, 116, 99, 97, 231};


//: account
Byte str_linkMaxValue[] = {98, 7, 8, 251, 202, 31, 56, 183, 116, 110, 117, 111, 99, 99, 97, 142};


//: login_logo
Byte str_wasteTitle[] = {98, 10, 13, 139, 205, 49, 156, 192, 36, 111, 218, 172, 10, 111, 103, 111, 108, 95, 110, 105, 103, 111, 108, 249};


//: telname
Byte str_sendJurorValue[] = {97, 7, 7, 234, 203, 208, 153, 101, 109, 97, 110, 108, 101, 116, 150};


//: vpn
Byte str_insectInsistContent[] = {69, 3, 5, 56, 252, 110, 112, 118, 60};


//: iOS%@
Byte str_townData[] = {64, 5, 7, 215, 243, 156, 86, 64, 37, 83, 79, 105, 72};


//: #009ADC
Byte str_scanText[] = {90, 7, 5, 190, 238, 67, 68, 65, 57, 48, 48, 35, 81};


//: #2BBCFB
Byte str_immuneValue[] = {28, 7, 5, 140, 8, 66, 70, 67, 66, 66, 50, 35, 73};


//: password
Byte str_backgroundContent[] = {41, 8, 6, 32, 119, 186, 100, 114, 111, 119, 115, 115, 97, 112, 240};


//: friend_verify_avtivity_net_error
Byte str_leaderBrotherTitle[] = {71, 32, 7, 144, 128, 9, 56, 114, 111, 114, 114, 101, 95, 116, 101, 110, 95, 121, 116, 105, 118, 105, 116, 118, 97, 95, 121, 102, 105, 114, 101, 118, 95, 100, 110, 101, 105, 114, 102, 81};


//: issup
Byte str_missingThatData[] = {4, 5, 8, 140, 99, 80, 51, 11, 112, 117, 115, 115, 105, 108};


//: activity_comment_setting_ys
Byte str_lengthContent[] = {92, 27, 12, 176, 191, 108, 101, 232, 233, 23, 72, 166, 115, 121, 95, 103, 110, 105, 116, 116, 101, 115, 95, 116, 110, 101, 109, 109, 111, 99, 95, 121, 116, 105, 118, 105, 116, 99, 97, 75};


//: activity_register_title
Byte str_ambleModelText[] = {51, 23, 7, 149, 252, 29, 49, 101, 108, 116, 105, 116, 95, 114, 101, 116, 115, 105, 103, 101, 114, 95, 121, 116, 105, 118, 105, 116, 99, 97, 197};


//: code
Byte str_threeDuringValue[] = {94, 4, 13, 239, 15, 84, 99, 133, 29, 104, 252, 249, 225, 101, 100, 111, 99, 192};


//: NTESNotificationLogout
Byte str_chantContent[] = {94, 22, 8, 218, 71, 233, 190, 112, 116, 117, 111, 103, 111, 76, 110, 111, 105, 116, 97, 99, 105, 102, 105, 116, 111, 78, 83, 69, 84, 78, 107};


//: login_icon_user
Byte str_townTitle[] = {12, 15, 8, 153, 247, 98, 129, 78, 114, 101, 115, 117, 95, 110, 111, 99, 105, 95, 110, 105, 103, 111, 108, 131};


//: lang
Byte str_threeOrationWithTitle[] = {94, 4, 7, 221, 108, 253, 169, 103, 110, 97, 108, 218};


//: tap
Byte str_areaLuckyDataText[] = {12, 3, 5, 92, 133, 112, 97, 116, 128};


//: type
Byte str_scanValue[] = {33, 4, 4, 144, 101, 112, 121, 116, 23};


//: register_account_activity_psw
Byte str_parkText[] = {97, 29, 10, 165, 14, 33, 110, 193, 176, 67, 119, 115, 112, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 116, 110, 117, 111, 99, 99, 97, 95, 114, 101, 116, 115, 105, 103, 101, 114, 104};


//: #999999
Byte str_ownModelTitle[] = {23, 7, 7, 202, 124, 220, 47, 57, 57, 57, 57, 57, 57, 35, 106};


//: activity_login_login
Byte str_commissionData[] = {97, 20, 13, 91, 245, 220, 212, 80, 72, 195, 18, 105, 166, 110, 105, 103, 111, 108, 95, 110, 105, 103, 111, 108, 95, 121, 116, 105, 118, 105, 116, 99, 97, 142};


//: nimtoken
Byte str_duringValue[] = {63, 8, 3, 110, 101, 107, 111, 116, 109, 105, 110, 108};


//: login_agreement_press
Byte str_changeProofValue[] = {8, 21, 8, 141, 196, 213, 12, 58, 115, 115, 101, 114, 112, 95, 116, 110, 101, 109, 101, 101, 114, 103, 97, 95, 110, 105, 103, 111, 108, 107};


//: data
Byte str_originContent[] = {43, 4, 13, 205, 195, 63, 194, 177, 55, 137, 179, 214, 232, 97, 116, 97, 100, 216};


//: tun
Byte str_mansionValue[] = {86, 3, 5, 150, 114, 110, 117, 116, 91};


//: RegistFinshNotification
Byte str_areaCellValue[] = {43, 23, 4, 217, 110, 111, 105, 116, 97, 99, 105, 102, 105, 116, 111, 78, 104, 115, 110, 105, 70, 116, 115, 105, 103, 101, 82, 93};


//: UserAccount
Byte str_fessText[] = {13, 11, 13, 45, 175, 78, 238, 14, 43, 136, 112, 12, 106, 116, 110, 117, 111, 99, 99, 65, 114, 101, 115, 85, 216};

// __DEBUG__
// __CLOSE_PRINT__
//
//  ResponseViewController.m
//  NIMDemo
//
//  Created by ght on 15-1-26.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "CCCLoginViewController.h"
#import "ResponseViewController.h"
//: #import "NTESMainTabController.h"
#import "CutBarController.h"
//: #import "UIView+Toast.h"
#import "UIView+Toast.h"
//: #import "SVProgressHUD.h"
#import "SVProgressHUD.h"
//: #import "UIView+NTES.h"
#import "UIView+Status.h"
//: #import "NSString+NTES.h"
#import "NSString+Status.h"
//: #import "CCCLoginManager.h"
#import "FromMarkManager.h"
//: #import "NTESNotificationCenter.h"
#import "IronedCenter.h"
//: #import "UIActionSheet+NTESBlock.h"
#import "UIActionSheet+FullPhaseOfTheMoon.h"
//: #import "CCCRegisterViewController.h"
#import "RangeViewController.h"
//: #import "NTESRegistConfigManager.h"
#import "ContentManager.h"
//: #import <CoreTelephony/CTCellularData.h>
#import <CoreTelephony/CTCellularData.h>
//: #import "UserGlobalMacro.h"
#import "UserGlobalMacro.h"
//: #import "CCCAppDelegate.h"
#import "FromDelegate.h"
//: #import "CCCAutoLoginManager.h"
#import "RadiatorGrilleMessage.h"
//: #import "SNDevice.h"
#import "LightWithHide.h"
//: #import "ZMONPolicyPrivacyViewController.h"
#import "IconViewController.h"

//: @interface CCCLoginViewController ()<UITextFieldDelegate> {
@interface ResponseViewController ()<UITextFieldDelegate> {
    //: UIActivityIndicatorView *_ActivityIndicator;
    UIActivityIndicatorView *_ActivityIndicator;
    //: BOOL _isloading;
    BOOL _isloading;
}
//: @property (strong, nonatomic) UIImageView *logoImageView;
@property (strong, nonatomic) UIImageView *logoImageView;

//: @property (nonatomic, strong) UIButton *agreementButton;
@property (nonatomic, strong) UIButton *agreementButton;
//: @property (nonatomic, strong) UIButton *secureButton;
@property (nonatomic, strong) UIButton *secureButton;

//: @property (strong, nonatomic) UIButton *registerButton;
@property (strong, nonatomic) UIButton *registerButton;
//: @property (strong, nonatomic) UITextField *usernameTextField;
@property (strong, nonatomic) UITextField *usernameTextField;
//: @property (strong, nonatomic) UIImageView *titleImg;
@property (strong, nonatomic) UIImageView *titleImg;
//: @property (strong, nonatomic) UIImageView *titleImg2;
@property (strong, nonatomic) UIImageView *titleImg2;

//: @property (strong, nonatomic) UITextField *passwordTextField;
@property (strong, nonatomic) UITextField *passwordTextField;

//: @property (strong, nonatomic) UIButton *loginButton;
@property (strong, nonatomic) UIButton *loginButton;

//: @property (nonatomic,strong) YYLabel *protocolLabel;
@property (nonatomic,strong) YYLabel *protocolLabel;
//: @property (nonatomic,strong) YYLabel *registLabel;
@property (nonatomic,strong) YYLabel *registLabel;

//: @property (nonatomic, strong) ZMONCustomLoadingView *loadingView;
@property (nonatomic, strong) SightView *loadingView;

//: @end
@end

//: @implementation CCCLoginViewController
@implementation ResponseViewController

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    //: bg.image = [UIImage imageNamed:@"login_bg"];
    bg.image = [UIImage imageNamed:StringFromInformationData(str_relateShouldName)];
    //: [self.view addSubview:bg];
    [self.view addSubview:bg];

    //: [NTESRegistConfigManager shareConfigManager].loginVC = self;
    [ContentManager red].loginVC = self;

    //: NIMUserDefaults *userDefaults = [NIMUserDefaults standardUserDefaults];
    WastepaperBasketDefaults *userDefaults = [WastepaperBasketDefaults at];
    //: if (userDefaults.language.length > 0) {
    if (userDefaults.language.length > 0) {
        //: [CCCAutoLoginManager sharedManager].isRequestAutoLoginFinish = YES;
        [RadiatorGrilleMessage view].isRequestAutoLoginFinish = YES;
        //: [self autoLogin];
        [self conference];
    //: } else {
    } else {

        //等待登陆菊花初始化：
        //: _ActivityIndicator = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleLarge];
        _ActivityIndicator = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleLarge];
        //设置菊花的中心点，貌似不能设置菊花的大小，系统自带的有三种样式
        //: _ActivityIndicator.color = [[UIColor blackColor] colorWithAlphaComponent:0.5];
        _ActivityIndicator.color = [[UIColor blackColor] colorWithAlphaComponent:0.5];
        //: _ActivityIndicator.center = CGPointMake([UIScreen mainScreen].bounds.size.width/2, [UIScreen mainScreen].bounds.size.height/2);
        _ActivityIndicator.center = CGPointMake([UIScreen mainScreen].bounds.size.width/2, [UIScreen mainScreen].bounds.size.height/2);
        //添加菊花
        //: [self.view addSubview:_ActivityIndicator];
        [self.view addSubview:_ActivityIndicator];

        //: [self needsInitUI];
        [self superstratum];
    }

    //1.获取网络权限 根绝权限进行人机交互
     //: if (100000) {
     if (100000) {
         //: [self networkStatus];
         [self bottom];
     //: }else {
     }else {
         //2.2已经开启网络权限 监听网络状态
         //: [self addReachabilityManager];
         [self item];
     }

    //: [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(registSuccessWithAccount:) name:@"RegistFinshNotification" object:nil];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(movieCamera:) name:StringFromInformationData(str_areaCellValue) object:nil];
//    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow:) name:UIKeyboardWillShowNotification object:nil];
//    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];

    //: if ([NIMUserDefaults standardUserDefaults].accountName && [NIMUserDefaults standardUserDefaults].accountName.length > 0){
    if ([WastepaperBasketDefaults at].accountName && [WastepaperBasketDefaults at].accountName.length > 0){
        //: _usernameTextField.text = [NIMUserDefaults standardUserDefaults].accountName;
        _usernameTextField.text = [WastepaperBasketDefaults at].accountName;
    }

//    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(languageChanged:) name:KEKENotificationLanguageChanged object:nil];

//    [self.view addSubview:self.loadingView];
//    self.loadingView.hidden = YES;
}

//- (void)languageChanged:(NSNotification *)noti {
////    [self refreshNavBarStyle];
//    [_loginButton setTitle:LangKey(@"activity_login_login") forState:UIControlStateNormal];
//    [_registerButton setTitle:LangKey(@"activity_register_title") forState:UIControlStateNormal];
//}

//: - (void)needsInitUI {
- (void)superstratum {

    //: NIMUserDefaults *userDefaults = [NIMUserDefaults standardUserDefaults];
    WastepaperBasketDefaults *userDefaults = [WastepaperBasketDefaults at];
    //: if (userDefaults.language && userDefaults.language.length <= 0) {
    if (userDefaults.language && userDefaults.language.length <= 0) {

        //在某个地方设置其 ，开始旋转动画
        //: [_ActivityIndicator startAnimating];
        [_ActivityIndicator startAnimating];

        //: [ZCHttpManager refreshGlobalConfig:^(NSDictionary * _Nonnull configDict) {
        [FromMessage listing:^(NSDictionary * _Nonnull configDict) {//处理第一次启动语言问题
            //: if (configDict.allKeys.count > 0) {
            if (configDict.allKeys.count > 0) {
                //: NIMUserDefaults *userDefaults = [NIMUserDefaults standardUserDefaults];
                WastepaperBasketDefaults *userDefaults = [WastepaperBasketDefaults at];
                //: NSString *lang = [configDict newStringValueForKey:@"lang"];
                NSString *lang = [configDict cord:StringFromInformationData(str_threeOrationWithTitle)];
                //: if (userDefaults.yinnihione.length > 0 && [userDefaults.yinnihione boolValue]){
                if (userDefaults.yinnihione.length > 0 && [userDefaults.yinnihione boolValue]){
                    //: lang = @"en";
                    lang = @"en";
                }
                //: userDefaults.language = lang;
                userDefaults.language = lang;
                //: [[NTESLanguageManager shareInstance] setLanguagre:lang];
                [[MaxInformation beInstance] setInfoKey:lang];
                //: [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
                [[NSNotificationCenter defaultCenter] postNotificationName:StringFromInformationData(str_chantContent) object:nil];
                //: CCCAppDelegate *delegate = (CCCAppDelegate *)[UIApplication sharedApplication].delegate;
                FromDelegate *delegate = (FromDelegate *)[UIApplication sharedApplication].delegate;
                //: if (delegate.deviceToken) {
                if (delegate.deviceToken) {
                    //: [[NIMSDK sharedSDK] updateApnsToken:delegate.deviceToken
                    [[NIMSDK sharedSDK] updateApnsToken:delegate.deviceToken
                                       //: customContentKey:lang];
                                       customContentKey:lang];

                    //: dispatch_after(dispatch_time((0ull), (int64_t)(1 * 1000000000ull)), dispatch_get_main_queue(), ^{
                    dispatch_after(dispatch_time((0ull), (int64_t)(1 * 1000000000ull)), dispatch_get_main_queue(), ^{
                        //: id<NIMApnsManager> apnsManager = [[NIMSDK sharedSDK] apnsManager];
                        id<NIMApnsManager> apnsManager = [[NIMSDK sharedSDK] apnsManager];
                        //: NIMPushNotificationSetting *setting = [apnsManager currentSetting];
                        NIMPushNotificationSetting *setting = [apnsManager currentSetting];
                        //: setting.type = NIMPushNotificationDisplayTypeNoDetail;
                        setting.type = NIMPushNotificationDisplayTypeNoDetail;

                        //: [[NIMSDK sharedSDK].apnsManager updateApnsSetting:setting completion:^(NSError * _Nullable error) {
                        [[NIMSDK sharedSDK].apnsManager updateApnsSetting:setting completion:^(NSError * _Nullable error) {
                            //: if (error)
                            if (error)
                            {

                            }
                        //: }];
                        }];
                    //: });
                    });
                }

                //: dispatch_async(dispatch_get_main_queue(), ^{
                dispatch_async(dispatch_get_main_queue(), ^{
                    //菊花停止旋转
                    //: [_ActivityIndicator stopAnimating];
                    [_ActivityIndicator stopAnimating];
                    //菊花隐藏
                    //: [_ActivityIndicator setHidesWhenStopped:YES];
                    [_ActivityIndicator setHidesWhenStopped:YES];

                    //需要执行的方法
                    //: [self autoLogin];
                    [self conference];
                //: });
                });
            //: } else {
            } else {
                //: [self autoLogin];
                [self conference];
            }
        //: }];
        }];
    //: } else {
    } else {
        //: [self autoLogin];
        [self conference];
    }
}

//: - (void)autoLogin {
- (void)conference {

    //: if (![CCCAutoLoginManager sharedManager].isRequestAutoLoginFinish){
    if (![RadiatorGrilleMessage view].isRequestAutoLoginFinish){
        //: return;
        return;
    }

    //: if (![NIMUserDefaults standardUserDefaults].autoLogin.boolValue){
    if (![WastepaperBasketDefaults at].autoLogin.boolValue){
        //: [self initUI];
        [self initView];
        //: return;
        return;
    }

    //: if ([NIMUserDefaults standardUserDefaults].accid.length > 0){
    if ([WastepaperBasketDefaults at].accid.length > 0){
        //: [self initUI];
        [self initView];
        //: return;
        return;
    }

    //: if ([CCCAutoLoginManager sharedManager].isloading){
    if ([RadiatorGrilleMessage view].isloading){
        //: return;
        return;
    }
    //: [CCCAutoLoginManager sharedManager].isloading = YES;
    [RadiatorGrilleMessage view].isloading = YES;

    //: [SVProgressHUD show];
    [SVProgressHUD show];

    //: [ZCHttpManager refreshGenerateUser:^(NSDictionary * _Nonnull data) {
    [FromMessage atUser:^(NSDictionary * _Nonnull data) {

        //: if (data.allKeys.count > 0) {
        if (data.allKeys.count > 0) {

            //: NSString *nimtoken = [data newStringValueForKey:@"nimtoken"];
            NSString *nimtoken = [data cord:StringFromInformationData(str_duringValue)];
            //: NSString *accid = [data newStringValueForKey:@"id"];
            NSString *accid = [data cord:@"id"];
            //: NSString *accountName = [data newStringValueForKey:@"account"];
            NSString *accountName = [data cord:StringFromInformationData(str_linkMaxValue)];
            //: NSString *loginToken = [data newStringValueForKey:@"token"];
            NSString *loginToken = [data cord:StringFromInformationData(str_balanceTingName)];
            //: NSString *issup = [data newStringValueForKey:@"issup"];
            NSString *issup = [data cord:StringFromInformationData(str_missingThatData)];


            //: [NIMUserDefaults standardUserDefaults].loginToken = loginToken;
            [WastepaperBasketDefaults at].loginToken = loginToken;
            //: [NIMUserDefaults standardUserDefaults].accid = accid;
            [WastepaperBasketDefaults at].accid = accid;
            //: [NIMUserDefaults standardUserDefaults].nimToken = nimtoken;
            [WastepaperBasketDefaults at].nimToken = nimtoken;
            //: [NIMUserDefaults standardUserDefaults].accountName = accountName;
            [WastepaperBasketDefaults at].accountName = accountName;
            //: [NIMUserDefaults standardUserDefaults].issup = issup;
            [WastepaperBasketDefaults at].issup = issup;


            //: [SVProgressHUD dismissWithDelay:0.1 completion:^{
            [SVProgressHUD dismissWithDelay:0.1 completion:^{

                //: [CCCAutoLoginManager sharedManager].isloading = NO;
                [RadiatorGrilleMessage view].isloading = NO;


                //: NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
                NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
                //: loginData.account = accid;
                loginData.account = accid;
                //: loginData.token = nimtoken;
                loginData.token = nimtoken;
                //: loginData.authType = 0;
                loginData.authType = 0;
                //: loginData.loginExtension = @"";
                loginData.loginExtension = @"";

                //: NTESLoginData *sdkData = [[NTESLoginData alloc] init];
                UpDataBubble *sdkData = [[UpDataBubble alloc] init];
                //: sdkData.account = accid;
                sdkData.account = accid;
                //: sdkData.token = nimtoken;
                sdkData.token = nimtoken;
                //: sdkData.authType = 0;
                sdkData.authType = 0;
                //: sdkData.loginExtension = @"";
                sdkData.loginExtension = @"";

                //: [[CCCLoginManager sharedManager] setCurrentLoginData:sdkData];
                [[FromMarkManager rounderMargin] setCurrentLoginData:sdkData];

                //: [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
                [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];

                //: NTESMainTabController * mainTab = [[NTESMainTabController alloc] initWithNibName:nil bundle:nil];
                CutBarController * mainTab = [[CutBarController alloc] initWithNibName:nil bundle:nil];
                //: [UIApplication sharedApplication].windows.firstObject.rootViewController = mainTab;
                [UIApplication sharedApplication].windows.firstObject.rootViewController = mainTab;

//                FromDelegate *delegate = (FromDelegate *)[UIApplication sharedApplication].delegate;
//                [delegate setupRTCCallKit];
            //: }];
            }];

        }
        //: else {
        else {

            //: [CCCAutoLoginManager sharedManager].isloading = NO;
            [RadiatorGrilleMessage view].isloading = NO;
            //: [self initUI];
            [self initView];

            //: [SVProgressHUD dismissWithDelay:0.25 completion:^{
            [SVProgressHUD dismissWithDelay:0.25 completion:^{

            //: }];
            }];
        }
    //: }];
    }];
}

/*
 CTCellularData在iOS9之前是私有类，权限设置是iOS10开始的，所以App Store审核没有问题
 获取网络权限状态
 */
//: - (void)networkStatus {
- (void)bottom {
    //2.根据权限执行相应的交互
    //: CTCellularData *cellularData = [[CTCellularData alloc] init];
    CTCellularData *cellularData = [[CTCellularData alloc] init];

    /*
     此函数会在网络权限改变时再次调用
     */
    //: cellularData.cellularDataRestrictionDidUpdateNotifier = ^(CTCellularDataRestrictedState state) {
    cellularData.cellularDataRestrictionDidUpdateNotifier = ^(CTCellularDataRestrictedState state) {
        //: switch (state) {
        switch (state) {
            //: case kCTCellularDataRestricted:
            case kCTCellularDataRestricted:

                //: NSLog(@"Restricted");
                //2.1权限关闭的情况下 再次请求网络数据会弹出设置网络提示
                //: break;
                break;
            //: case kCTCellularDataNotRestricted:
            case kCTCellularDataNotRestricted:
            {
                //: NSLog(@"NotRestricted");
                //2.2已经开启网络权限 监听网络状态
                //: [self addReachabilityManager];
                [self item];
                //: dispatch_async(dispatch_get_main_queue(), ^{
                dispatch_async(dispatch_get_main_queue(), ^{
                    //: [self needsInitUI];
                    [self superstratum];
                //: });
                });
            }
                //: break;
                break;
            //: default:
            default:
                //: break;
                break;
        }
    //: };
    };
}

/**
 实时检查当前网络状态
 */
//: - (void)addReachabilityManager {
- (void)item {
    //: AFNetworkReachabilityManager *afNetworkReachabilityManager = [AFNetworkReachabilityManager sharedManager];
    AFNetworkReachabilityManager *afNetworkReachabilityManager = [AFNetworkReachabilityManager sharedManager];

    //: [afNetworkReachabilityManager setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {
    [afNetworkReachabilityManager setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {
        //: switch (status) {
        switch (status) {
            //: case AFNetworkReachabilityStatusNotReachable:{
            case AFNetworkReachabilityStatusNotReachable:{
                //: NSLog(@"网络不通：%@",@(status) );
                //: break;
                break;
            }
            //: case AFNetworkReachabilityStatusReachableViaWiFi:{
            case AFNetworkReachabilityStatusReachableViaWiFi:{
                //: NSLog(@"网络通过WIFI连接：%@",@(status));
                //: dispatch_async(dispatch_get_main_queue(), ^{
                dispatch_async(dispatch_get_main_queue(), ^{
                    //: [self needsInitUI];
                    [self superstratum];
                //: });
                });
                //: break;
                break;
            }
            //: case AFNetworkReachabilityStatusReachableViaWWAN:{
            case AFNetworkReachabilityStatusReachableViaWWAN:{
                //: NSLog(@"网络通过无线连接：%@",@(status) );
                //: dispatch_async(dispatch_get_main_queue(), ^{
                dispatch_async(dispatch_get_main_queue(), ^{
                    //: [self needsInitUI];
                    [self superstratum];
                //: });
                });
                //: break;
                break;
            }
            //: default:
            default:
                //: break;
                break;
        }
    //: }];
    }];

    //: [afNetworkReachabilityManager startMonitoring]; 
    [afNetworkReachabilityManager startMonitoring]; //开启网络监视器；
}

//: -(void)registSuccessWithAccount:(NSNotification *)notification{
-(void)movieCamera:(NSNotification *)notification{
    //: NSDictionary *dict = notification.object;
    NSDictionary *dict = notification.object;
    //: _usernameTextField.text = [dict newStringValueForKey:@"UserAccount"];
    _usernameTextField.text = [dict cord:StringFromInformationData(str_fessText)];
    //: _passwordTextField.text = [dict newStringValueForKey:@"UserPassWord"];
    _passwordTextField.text = [dict cord:StringFromInformationData(str_activityText)];

    //: dispatch_after(dispatch_time((0ull), (int64_t)(0.25 * 1000000000ull)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(0.25 * 1000000000ull)), dispatch_get_main_queue(), ^{
        //: [self doLogin];
        [self figureHolder];
    //: });
    });
}
//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: [self preferredStatusBarStyle];
    [self preferredStatusBarStyle];
    //: self.navigationController.navigationBarHidden = YES;
    self.navigationController.navigationBarHidden = YES;
}

//: - (void)initUI{
- (void)initView{


    //: _logoImageView = [[UIImageView alloc] initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-120)/2, [UIDevice vg_statusBarHeight]+50, 120, 120)];
    _logoImageView = [[UIImageView alloc] initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-120)/2, [UIDevice task]+50, 120, 120)];
    //: _logoImageView.contentMode = UIViewContentModeScaleAspectFit;
    _logoImageView.contentMode = UIViewContentModeScaleAspectFit;
    //: _logoImageView.backgroundColor = [UIColor clearColor];
    _logoImageView.backgroundColor = [UIColor clearColor];
    //: [self.view addSubview:_logoImageView];
    [self.view addSubview:_logoImageView];
    //: _logoImageView.image = [UIImage imageNamed:@"login_logo"];
    _logoImageView.image = [UIImage imageNamed:StringFromInformationData(str_wasteTitle)];


    //: UIView *usernameView = [[UIView alloc]initWithFrame:CGRectMake(20, _logoImageView.bottom+10, [[UIScreen mainScreen] bounds].size.width-40, 50)];
    UIView *usernameView = [[UIView alloc]initWithFrame:CGRectMake(20, _logoImageView.bottom+10, [[UIScreen mainScreen] bounds].size.width-40, 50)];
    //: usernameView.backgroundColor = [UIColor colorWithHexString:@"#F6F6F6"];
    usernameView.backgroundColor = [UIColor direction:StringFromInformationData(str_gestureYardLimbValue)];
    //: usernameView.layer.cornerRadius = 10;
    usernameView.layer.cornerRadius = 10;
    //: usernameView.layer.masksToBounds = YES;
    usernameView.layer.masksToBounds = YES;
    //: [self.view addSubview:usernameView];
    [self.view addSubview:usernameView];

    //: self.titleImg = [[UIImageView alloc] initWithFrame:CGRectMake(15, 15, 20, 20)];
    self.titleImg = [[UIImageView alloc] initWithFrame:CGRectMake(15, 15, 20, 20)];
    //: self.titleImg.image = [UIImage imageNamed:@"login_icon_user"];
    self.titleImg.image = [UIImage imageNamed:StringFromInformationData(str_townTitle)];
    //: [usernameView addSubview:self.titleImg];
    [usernameView addSubview:self.titleImg];

    //: _usernameTextField = [[UITextField alloc] initWithFrame:CGRectMake(50, 3, [[UIScreen mainScreen] bounds].size.width-90, 44)];
    _usernameTextField = [[UITextField alloc] initWithFrame:CGRectMake(50, 3, [[UIScreen mainScreen] bounds].size.width-90, 44)];
    //: _usernameTextField.font = [UIFont systemFontOfSize:16];
    _usernameTextField.font = [UIFont systemFontOfSize:16];
    //: _usernameTextField.textColor = [UIColor colorWithHexString:@"#333333"];
    _usernameTextField.textColor = [UIColor direction:StringFromInformationData(str_linkCellValue)];
//    _usernameTextField.delegate = self;
//        _usernameTextField.clearButtonMode = UITextFieldViewModeWhileEditing;
    //: NSMutableAttributedString *attrString = [[NSMutableAttributedString alloc]initWithString:[NTESLanguageManager getTextWithKey:@"register_account_activity_account"] attributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@"#999999"]}];
    NSMutableAttributedString *attrString = [[NSMutableAttributedString alloc]initWithString:[MaxInformation off:StringFromInformationData(str_combineName)] attributes:@{NSForegroundColorAttributeName:[UIColor direction:StringFromInformationData(str_ownModelTitle)]}];
    //: _usernameTextField.attributedPlaceholder = attrString;
    _usernameTextField.attributedPlaceholder = attrString;
    //: [usernameView addSubview:_usernameTextField];
    [usernameView addSubview:_usernameTextField];

    //: UIView *psdView = [[UIView alloc]initWithFrame:CGRectMake(20, usernameView.bottom+10, [[UIScreen mainScreen] bounds].size.width-40, 50)];
    UIView *psdView = [[UIView alloc]initWithFrame:CGRectMake(20, usernameView.bottom+10, [[UIScreen mainScreen] bounds].size.width-40, 50)];
    //: psdView.backgroundColor = [UIColor colorWithHexString:@"#F6F6F6"];
    psdView.backgroundColor = [UIColor direction:StringFromInformationData(str_gestureYardLimbValue)];
    //: psdView.layer.masksToBounds = YES;
    psdView.layer.masksToBounds = YES;
    //: psdView.layer.cornerRadius = 10;
    psdView.layer.cornerRadius = 10;
    //: [self.view addSubview:psdView];
    [self.view addSubview:psdView];

    //: self.titleImg2 = [[UIImageView alloc] initWithFrame:CGRectMake(15, 15, 20, 20)];
    self.titleImg2 = [[UIImageView alloc] initWithFrame:CGRectMake(15, 15, 20, 20)];
                //: self.titleImg2.image = [UIImage imageNamed:@"login_icon_pwd"];
                self.titleImg2.image = [UIImage imageNamed:StringFromInformationData(str_inputProofName)];
                //: [psdView addSubview:self.titleImg2];
                [psdView addSubview:self.titleImg2];

    //: _passwordTextField = [[UITextField alloc] initWithFrame:CGRectMake(50, 3, [[UIScreen mainScreen] bounds].size.width-90, 44)];
    _passwordTextField = [[UITextField alloc] initWithFrame:CGRectMake(50, 3, [[UIScreen mainScreen] bounds].size.width-90, 44)];
    //: _passwordTextField.font = [UIFont systemFontOfSize:16];
    _passwordTextField.font = [UIFont systemFontOfSize:16];
    //: _passwordTextField.textColor = [UIColor colorWithHexString:@"#333333"];
    _passwordTextField.textColor = [UIColor direction:StringFromInformationData(str_linkCellValue)];
    //: _passwordTextField.secureTextEntry = YES;
    _passwordTextField.secureTextEntry = YES;
    //: self.passwordTextField.delegate = self;
    self.passwordTextField.delegate = self;
    //: NSMutableAttributedString *attrString1 = [[NSMutableAttributedString alloc]initWithString:[NTESLanguageManager getTextWithKey:@"register_account_activity_psw"] attributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@"#999999"]}];
    NSMutableAttributedString *attrString1 = [[NSMutableAttributedString alloc]initWithString:[MaxInformation off:StringFromInformationData(str_parkText)] attributes:@{NSForegroundColorAttributeName:[UIColor direction:StringFromInformationData(str_ownModelTitle)]}];
    //: _passwordTextField.attributedPlaceholder = attrString1;
    _passwordTextField.attributedPlaceholder = attrString1;
    //: [psdView addSubview:_passwordTextField];
    [psdView addSubview:_passwordTextField];

    //: self.secureButton = [UIButton buttonWithType:(UIButtonTypeCustom)];
    self.secureButton = [UIButton buttonWithType:(UIButtonTypeCustom)];
    //: self.secureButton.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-70, 17, 16, 16);
    self.secureButton.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-70, 17, 16, 16);
    //: [self.secureButton addTarget:self action:@selector(pwdTextSwitch:) forControlEvents:(UIControlEventTouchUpInside)];
    [self.secureButton addTarget:self action:@selector(externalBodyPart:) forControlEvents:(UIControlEventTouchUpInside)];
    //: [self.secureButton setImage:[UIImage imageNamed:@"ic_visible"] forState:UIControlStateNormal];
    [self.secureButton setImage:[UIImage imageNamed:StringFromInformationData(str_townProgressText)] forState:UIControlStateNormal];
    //: [self.secureButton setImage:[UIImage imageNamed:@"ic_invisible"] forState:UIControlStateSelected];
    [self.secureButton setImage:[UIImage imageNamed:StringFromInformationData(str_linkBalanceTitle)] forState:UIControlStateSelected];
    //: self.secureButton.hidden = YES;
    self.secureButton.hidden = YES;
    //: [psdView addSubview:self.secureButton];
    [psdView addSubview:self.secureButton];

    //: _loginButton = [UIButton buttonWithType:UIButtonTypeCustom];
    _loginButton = [UIButton buttonWithType:UIButtonTypeCustom];
    //: _loginButton.frame = CGRectMake(20, psdView.bottom+30, [[UIScreen mainScreen] bounds].size.width-40, 50);
    _loginButton.frame = CGRectMake(20, psdView.bottom+30, [[UIScreen mainScreen] bounds].size.width-40, 50);
    //: _loginButton.titleLabel.font = [UIFont systemFontOfSize:17];
    _loginButton.titleLabel.font = [UIFont systemFontOfSize:17];
    //: [_loginButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    [_loginButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    //: [_loginButton setTitle:[NTESLanguageManager getTextWithKey:@"activity_login_login"] forState:UIControlStateNormal];
    [_loginButton setTitle:[MaxInformation off:StringFromInformationData(str_commissionData)] forState:UIControlStateNormal];
    //: [_loginButton addTarget:self action:@selector(doLogin) forControlEvents:UIControlEventTouchUpInside];
    [_loginButton addTarget:self action:@selector(figureHolder) forControlEvents:UIControlEventTouchUpInside];
    //: [self.view addSubview:_loginButton];
    [self.view addSubview:_loginButton];
    //: _loginButton.backgroundColor = [UIColor colorWithRed:43/255.0 green:188/255.0 blue:251/255.0 alpha:1];
    _loginButton.backgroundColor = [UIColor colorWithRed:43/255.0 green:188/255.0 blue:251/255.0 alpha:1];
    //: _loginButton.layer.cornerRadius = 10;
    _loginButton.layer.cornerRadius = 10;
    //: _loginButton.layer.shadowColor = [UIColor colorWithHexString:@"#009ADC"].CGColor;
    _loginButton.layer.shadowColor = [UIColor direction:StringFromInformationData(str_scanText)].CGColor;
    //: _loginButton.layer.shadowOffset = CGSizeMake(0,3);
    _loginButton.layer.shadowOffset = CGSizeMake(0,3);
    //: _loginButton.layer.shadowOpacity = 1;
    _loginButton.layer.shadowOpacity = 1;
    //: _loginButton.layer.shadowRadius = 0;
    _loginButton.layer.shadowRadius = 0;



    //: _agreementButton = [UIButton buttonWithType:UIButtonTypeCustom];
    _agreementButton = [UIButton buttonWithType:UIButtonTypeCustom];
    //: _agreementButton.selected = YES;
    _agreementButton.selected = YES;
    //: [_agreementButton setImage:[UIImage imageNamed:@"login_agreement_normal"] forState:UIControlStateNormal];
    [_agreementButton setImage:[UIImage imageNamed:StringFromInformationData(str_duringName)] forState:UIControlStateNormal];
    //: [_agreementButton setImage:[UIImage imageNamed:@"login_agreement_press"] forState:UIControlStateSelected];
    [_agreementButton setImage:[UIImage imageNamed:StringFromInformationData(str_changeProofValue)] forState:UIControlStateSelected];
    //: [_agreementButton addTarget:self action:@selector(agreementButtonClick:) forControlEvents:UIControlEventTouchUpInside];
    [_agreementButton addTarget:self action:@selector(underImage:) forControlEvents:UIControlEventTouchUpInside];
    //: [self.view addSubview:_agreementButton];
    [self.view addSubview:_agreementButton];
    //: [_agreementButton mas_makeConstraints:^(MASConstraintMaker *make) {
    [_agreementButton mas_makeConstraints:^(MASConstraintMaker *make) {
        //: make.left.mas_offset(30);
        make.left.mas_offset(30);
        //: make.top.mas_equalTo(self.loginButton.mas_bottom).mas_offset(25);
        make.top.mas_equalTo(self.loginButton.mas_bottom).mas_offset(25);
        //: make.width.mas_equalTo(20);
        make.width.mas_equalTo(20);
        //: make.height.mas_equalTo(20);
        make.height.mas_equalTo(20);
    //: }];
    }];

    //: [self.view addSubview:self.protocolLabel];
    [self.view addSubview:self.protocolLabel];
    //: [self.protocolLabel mas_makeConstraints:^(MASConstraintMaker *make) {
    [self.protocolLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        //: make.left.mas_equalTo(_agreementButton.mas_right).mas_offset(7);
        make.left.mas_equalTo(_agreementButton.mas_right).mas_offset(7);
        //: make.top.mas_equalTo(self.loginButton.mas_bottom).mas_offset(27);
        make.top.mas_equalTo(self.loginButton.mas_bottom).mas_offset(27);
        //: make.right.mas_offset(-5);
        make.right.mas_offset(-5);
        //: make.height.mas_equalTo(50);
        make.height.mas_equalTo(50);
    //: }];
    }];



    //: [self.view addSubview:self.registLabel];
    [self.view addSubview:self.registLabel];
    //: self.registLabel.frame = CGRectMake(30, [[UIScreen mainScreen] bounds].size.height-(({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = [[[UIApplication sharedApplication] delegate] window].safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}).bottom)-80-20, [[UIScreen mainScreen] bounds].size.width-60, 20);
    self.registLabel.frame = CGRectMake(30, [[UIScreen mainScreen] bounds].size.height-(({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = [[[UIApplication sharedApplication] delegate] window].safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}).bottom)-80-20, [[UIScreen mainScreen] bounds].size.width-60, 20);


    //: _registerButton = [UIButton buttonWithType:UIButtonTypeCustom];
    _registerButton = [UIButton buttonWithType:UIButtonTypeCustom];
    //: _registerButton.frame = CGRectMake(30, [[UIScreen mainScreen] bounds].size.height-(({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = [[[UIApplication sharedApplication] delegate] window].safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}).bottom)-50-20, [[UIScreen mainScreen] bounds].size.width-60, 50);
    _registerButton.frame = CGRectMake(30, [[UIScreen mainScreen] bounds].size.height-(({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = [[[UIApplication sharedApplication] delegate] window].safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}).bottom)-50-20, [[UIScreen mainScreen] bounds].size.width-60, 50);
    //: _registerButton.backgroundColor = [[UIColor colorWithHexString:@"#2BBCFB"] colorWithAlphaComponent:0.1];
    _registerButton.backgroundColor = [[UIColor direction:StringFromInformationData(str_immuneValue)] colorWithAlphaComponent:0.1];
    //: _registerButton.titleLabel.font = [UIFont systemFontOfSize:16];
    _registerButton.titleLabel.font = [UIFont systemFontOfSize:16];
    //: [_registerButton setTitleColor:[UIColor colorWithHexString:@"#2BBCFB"] forState:UIControlStateNormal];
    [_registerButton setTitleColor:[UIColor direction:StringFromInformationData(str_immuneValue)] forState:UIControlStateNormal];
    //: [_registerButton setTitle:[NTESLanguageManager getTextWithKey:@"activity_register_title"] forState:UIControlStateNormal];
    [_registerButton setTitle:[MaxInformation off:StringFromInformationData(str_ambleModelText)] forState:UIControlStateNormal];
    //: [_registerButton addTarget:self action:@selector(doRegister) forControlEvents:UIControlEventTouchUpInside];
    [_registerButton addTarget:self action:@selector(minVideo) forControlEvents:UIControlEventTouchUpInside];
    //: [self.view addSubview:_registerButton];
    [self.view addSubview:_registerButton];
    //: _registerButton.layer.masksToBounds = YES;
    _registerButton.layer.masksToBounds = YES;
    //: _registerButton.layer.cornerRadius = 10;
    _registerButton.layer.cornerRadius = 10;
//    _registerButton.layer.borderColor = RGB_COLOR_String(@"#612CF9").CGColor;
//    _registerButton.layer.borderWidth = 1;

    //: [self.view addSubview:self.loadingView];
    [self.view addSubview:self.loadingView];
    //: [self.view bringSubviewToFront:self.loadingView];
    [self.view bringSubviewToFront:self.loadingView];
    //: self.loadingView.hidden = YES;
    self.loadingView.hidden = YES;
}

//: - (void)doRegister
- (void)minVideo
{
    //: CCCRegisterViewController *vc = [[CCCRegisterViewController alloc]init];
    RangeViewController *vc = [[RangeViewController alloc]init];
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

//: - (void)pwdTextSwitch:(UIButton *)sender {
- (void)externalBodyPart:(UIButton *)sender {

    // 切换按钮的状态
    //: sender.selected = !sender.selected;
    sender.selected = !sender.selected;

    //: if (sender.selected) { 
    if (sender.selected) { // 按下去了就是明文

        //: [sender setImage:[UIImage imageNamed:@"ic_invisible"] forState:UIControlStateNormal];
        [sender setImage:[UIImage imageNamed:StringFromInformationData(str_linkBalanceTitle)] forState:UIControlStateNormal];

        //: [UIView animateWithDuration:0.25 animations:^{
        [UIView animateWithDuration:0.25 animations:^{
            //: self.passwordTextField.secureTextEntry = NO;
            self.passwordTextField.secureTextEntry = NO;
        //: }];
        }];

    //: } else { 
    } else { // 暗文

        //: [sender setImage:[UIImage imageNamed:@"ic_visible"] forState:UIControlStateNormal];
        [sender setImage:[UIImage imageNamed:StringFromInformationData(str_townProgressText)] forState:UIControlStateNormal];

        //: [UIView animateWithDuration:0.25 animations:^{
        [UIView animateWithDuration:0.25 animations:^{
            //: self.passwordTextField.secureTextEntry = YES;
            self.passwordTextField.secureTextEntry = YES;
        //: }];
        }];
    }
}

//: -(YYLabel *)protocolLabel{
-(YYLabel *)protocolLabel{
    //: if (!_protocolLabel) {
    if (!_protocolLabel) {
        //: NSString *originText = [NTESLanguageManager getTextWithKey:@"activity_register_agree"];
        NSString *originText = [MaxInformation off:StringFromInformationData(str_postImposeName)];
        //: NSMutableAttributedString *text1 = [[NSMutableAttributedString alloc] initWithString:originText];
        NSMutableAttributedString *text1 = [[NSMutableAttributedString alloc] initWithString:originText];
        //: text1.yy_font = [UIFont boldSystemFontOfSize:14];
        text1.yy_font = [UIFont boldSystemFontOfSize:14];
        //: text1.yy_alignment = NSTextAlignmentLeft;
        text1.yy_alignment = NSTextAlignmentLeft;
        //: text1.yy_lineSpacing = 3;
        text1.yy_lineSpacing = 3;

        //: [text1 yy_setTextHighlightRange:NSMakeRange(0, originText.length)
        [text1 yy_setTextHighlightRange:NSMakeRange(0, originText.length)//设置点击的位置
                                  //: color:[UIColor colorWithHexString:@"#2BBCFB"]
                                  color:[UIColor direction:StringFromInformationData(str_immuneValue)]
                        //: backgroundColor:[UIColor systemGroupedBackgroundColor]
                        backgroundColor:[UIColor systemGroupedBackgroundColor]
                              //: tapAction:^(UIView *containerView, NSAttributedString *text, NSRange range, CGRect rect)
                              tapAction:^(UIView *containerView, NSAttributedString *text, NSRange range, CGRect rect)
         {

            //: ZMONPolicyPrivacyViewController *vc = [[ZMONPolicyPrivacyViewController alloc] init];
            IconViewController *vc = [[IconViewController alloc] init];
            //: vc.webTitle = [NTESLanguageManager getTextWithKey:@"activity_comment_setting_ys"];
            vc.webTitle = [MaxInformation off:StringFromInformationData(str_lengthContent)];
            //: vc.urlString = [NIMUserDefaults standardUserDefaults].yshref;
            vc.urlString = [WastepaperBasketDefaults at].yshref;
            //: [self.navigationController pushViewController:vc animated:YES];
            [self.navigationController pushViewController:vc animated:YES];
//            @weakify(self);
//            vc.complete = ^{
//                @strongify(self);
//                [self.navigationController popViewControllerAnimated:NO];
//                self.agreementButton.selected = YES;
//            };
        //: }];
        }];

        //: YYLabel *titleLb = [[YYLabel alloc] init];
        YYLabel *titleLb = [[YYLabel alloc] init];
        //: titleLb.userInteractionEnabled = YES;
        titleLb.userInteractionEnabled = YES;
        //: titleLb.attributedText = text1;
        titleLb.attributedText = text1;
        //: titleLb.font = [UIFont systemFontOfSize:14];
        titleLb.font = [UIFont systemFontOfSize:14];
        //: titleLb.numberOfLines = 0;
        titleLb.numberOfLines = 0;
        //: titleLb.textVerticalAlignment = YYTextVerticalAlignmentTop;
        titleLb.textVerticalAlignment = YYTextVerticalAlignmentTop;
        //: titleLb.backgroundColor = [UIColor clearColor];
        titleLb.backgroundColor = [UIColor clearColor];
        //: _protocolLabel = titleLb;
        _protocolLabel = titleLb;
    }
    //: return _protocolLabel;
    return _protocolLabel;
}


//: -(YYLabel *)registLabel{
-(YYLabel *)registLabel{
    //: if (!_registLabel) {
    if (!_registLabel) {
        //: NSString *noCount = [NTESLanguageManager getTextWithKey:@"activity_login_has_no_account"];
        NSString *noCount = [MaxInformation off:StringFromInformationData(str_byCountroduceName)];
        //: NSString *originText = [NSString stringWithFormat:@"%@",noCount];
        NSString *originText = [NSString stringWithFormat:@"%@",noCount];
        //: NSMutableAttributedString *text1 = [[NSMutableAttributedString alloc] initWithString:originText];
        NSMutableAttributedString *text1 = [[NSMutableAttributedString alloc] initWithString:originText];
        //: text1.yy_font = [UIFont boldSystemFontOfSize:14];
        text1.yy_font = [UIFont boldSystemFontOfSize:14];
        //: text1.yy_alignment = NSTextAlignmentCenter;
        text1.yy_alignment = NSTextAlignmentCenter;
        //: text1.yy_color = [UIColor colorWithHexString:@"#8282A7"];
        text1.yy_color = [UIColor direction:StringFromInformationData(str_relateData)];
        //: text1.yy_lineSpacing = 8;
        text1.yy_lineSpacing = 8;


        //: YYLabel *titleLb = [[YYLabel alloc] init];
        YYLabel *titleLb = [[YYLabel alloc] init];
        //: titleLb.userInteractionEnabled = YES;
        titleLb.userInteractionEnabled = YES;
        //: titleLb.attributedText = text1;
        titleLb.attributedText = text1;
        //: titleLb.font = [UIFont systemFontOfSize:14];
        titleLb.font = [UIFont systemFontOfSize:14];
        //: titleLb.textVerticalAlignment = YYTextVerticalAlignmentCenter;
        titleLb.textVerticalAlignment = YYTextVerticalAlignmentCenter;
        //: titleLb.backgroundColor = [UIColor clearColor];
        titleLb.backgroundColor = [UIColor clearColor];
        //: titleLb.numberOfLines = 0;
        titleLb.numberOfLines = 0;
        //: _registLabel = titleLb;
        _registLabel = titleLb;
    }
    //: return _registLabel;
    return _registLabel;
}

//: -(void)agreementButtonClick:(UIButton *)senderBtn
-(void)underImage:(UIButton *)senderBtn
{
    //: senderBtn.selected = !senderBtn.selected;
    senderBtn.selected = !senderBtn.selected;
}

//: -(void)inputAccount:(NSString*)account password:(NSString *)password{
-(void)passwordInputSignalCaseHistory:(NSString*)account with:(NSString *)password{
    //: _usernameTextField.text = account;
    _usernameTextField.text = account;
    //: _passwordTextField.text = password;
    _passwordTextField.text = password;
}

//: - (BOOL)isVPNConnected
- (BOOL)agendaItemShow
{
    //: NSDictionary *dict = CFBridgingRelease(CFNetworkCopySystemProxySettings());
    NSDictionary *dict = CFBridgingRelease(CFNetworkCopySystemProxySettings());
        //: NSArray *keys = [dict[@"__SCOPED__"]allKeys];
        NSArray *keys = [dict[StringFromInformationData(str_plainDateRelateTitle)]allKeys];
        //: for (NSString *key in keys) {
        for (NSString *key in keys) {
            //: if ([key rangeOfString:@"tap"].location != NSNotFound ||
            if ([key rangeOfString:StringFromInformationData(str_areaLuckyDataText)].location != NSNotFound ||
                //: [key rangeOfString:@"tun"].location != NSNotFound ||
                [key rangeOfString:StringFromInformationData(str_mansionValue)].location != NSNotFound ||
                //: [key rangeOfString:@"ppp"].location != NSNotFound){
                [key rangeOfString:StringFromInformationData(str_kickFishingDateName)].location != NSNotFound){
                //: return YES;
                return YES;
            }
        }
        //: return NO;
        return NO;
}

//: - (void)doLogin {
- (void)figureHolder {

    //: if (_agreementButton.selected == NO) {
    if (_agreementButton.selected == NO) {
        //: [self.view makeToast:[NTESLanguageManager getTextWithKey:@"Read_agree_agreement"] duration:2.0 position:CSToastPositionCenter];
        [self.view makeToast:[MaxInformation off:StringFromInformationData(str_refugeeValue)] duration:2.0 position:CSToastPositionCenter];
        //: return;
        return;
    }

    //: _usernameTextField.text = [_usernameTextField.text stringByReplacingOccurrencesOfString:@" " withString:@""];
    _usernameTextField.text = [_usernameTextField.text stringByReplacingOccurrencesOfString:@" " withString:@""];
    //: _passwordTextField.text = [_passwordTextField.text stringByReplacingOccurrencesOfString:@" " withString:@""];
    _passwordTextField.text = [_passwordTextField.text stringByReplacingOccurrencesOfString:@" " withString:@""];

    //: if (_usernameTextField.text && _usernameTextField.text.length <= 0){
    if (_usernameTextField.text && _usernameTextField.text.length <= 0){
        //: [self.view makeToast:[NTESLanguageManager getTextWithKey:@"register_account_activity_account"] duration:2.0 position:CSToastPositionCenter];
        [self.view makeToast:[MaxInformation off:StringFromInformationData(str_combineName)] duration:2.0 position:CSToastPositionCenter];
        //: return;
        return;
    }

    //: if (_passwordTextField.text && _passwordTextField.text.length <= 0){
    if (_passwordTextField.text && _passwordTextField.text.length <= 0){
        //: [self.view makeToast:[NTESLanguageManager getTextWithKey:@"register_account_activity_psw"] duration:2.0 position:CSToastPositionCenter];
        [self.view makeToast:[MaxInformation off:StringFromInformationData(str_parkText)] duration:2.0 position:CSToastPositionCenter];
        //: return;
        return;
    }

    //: [_usernameTextField resignFirstResponder];
    [_usernameTextField resignFirstResponder];
    //: [_passwordTextField resignFirstResponder];
    [_passwordTextField resignFirstResponder];
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: [dict setObject:@"ios" forKey:@"client"];
    [dict setObject:StringFromInformationData(str_providerCuriousRecordName) forKey:StringFromInformationData(str_personalityData)];
    //: [dict setObject:@"1" forKey:@"type"];
    [dict setObject:@"1" forKey:StringFromInformationData(str_scanValue)];
    //: [dict setObject:_usernameTextField.text forKey:@"account"];
    [dict setObject:_usernameTextField.text forKey:StringFromInformationData(str_linkMaxValue)];
    //: [dict setObject:_passwordTextField.text forKey:@"password"];
    [dict setObject:_passwordTextField.text forKey:StringFromInformationData(str_backgroundContent)];
    //: [dict setObject:[NSString stringWithFormat:@"iOS%@",[ZCHttpRequestHeader deviceVersion]] forKey:@"telname"];
    [dict setObject:[NSString stringWithFormat:StringFromInformationData(str_townData),[TextHeader corner]] forKey:StringFromInformationData(str_sendJurorValue)];
    //: [dict setObject:[ZCHttpRequestHeader getIOSVersion] forKey:@"systems"];
    [dict setObject:[TextHeader valueVersion] forKey:StringFromInformationData(str_sessionMissingValue)];
    //: [dict setObject:[SNDevice deviceIUUID] forKey:@"deviceid"];
    [dict setObject:[LightWithHide buttonIn] forKey:StringFromInformationData(str_hareKickTitle)];

    //: [dict setObject:[self isVPNConnected]?@"1":@"0" forKey:@"vpn"];
    [dict setObject:[self agendaItemShow]?@"1":@"0" forKey:StringFromInformationData(str_insectInsistContent)];

    //: if (_isloading){
    if (_isloading){
        //: return;
        return;
    }
    //: _isloading = YES;
    _isloading = YES;

    //: [self.loadingView animationShow];
    [self.loadingView brand];

    @
     //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
     autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
                  ;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/login"] params:dict isShow:NO success:^(id responseObject) {
    [FromMessage maxColor:[NSString stringWithFormat:StringFromInformationData(str_statusShowName)] flush:dict countIn:NO alongResponseSuccess:^(id responseObject) {

        //: _isloading = NO;
        _isloading = NO;

        @
         //: try{} @finally{} __typeof__(self) self = __weak_self__;
         try{} @finally{} __typeof__(self) self = __weak_self__;
                        ;
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict cord:StringFromInformationData(str_threeDuringValue)];
        //: if (code.integerValue <= 0) {
        if (code.integerValue <= 0) {

            //: NSDictionary *data = [resultDict valueObjectForKey:@"data"];
            NSDictionary *data = [resultDict eigenvalueOfAMatrix:StringFromInformationData(str_originContent)];
            //: __block NSString *nimtoken = [data newStringValueForKey:@"nimtoken"];
            __block NSString *nimtoken = [data cord:StringFromInformationData(str_duringValue)];
            //: __block NSString *accid = [data newStringValueForKey:@"id"];
            __block NSString *accid = [data cord:@"id"];

            //: [NIMUserDefaults standardUserDefaults].loginToken = [data newStringValueForKey:@"token"];
            [WastepaperBasketDefaults at].loginToken = [data cord:StringFromInformationData(str_balanceTingName)];
            //: [NIMUserDefaults standardUserDefaults].accid = [data newStringValueForKey:@"id"];
            [WastepaperBasketDefaults at].accid = [data cord:@"id"];


            //: [[[NIMSDK sharedSDK] loginManager] login:accid token:nimtoken completion:^(NSError * _Nullable error) {
            [[[NIMSDK sharedSDK] loginManager] login:accid token:nimtoken completion:^(NSError * _Nullable error) {

                    //: [self.loadingView animationClose];
                    [self.loadingView iconEnable];

                    //: if (error != nil) {
                    if (error != nil) {

                        //: [self.view makeToast:[NTESLanguageManager getTextWithKey:@"login_activity_login_failed"] duration:2.0 position:CSToastPositionCenter];
                        [self.view makeToast:[MaxInformation off:StringFromInformationData(str_brotherCedeTitle)] duration:2.0 position:CSToastPositionCenter];

                        //: return;
                        return;
                    }

                    //: NTESLoginData *sdkData = [[NTESLoginData alloc] init];
                    UpDataBubble *sdkData = [[UpDataBubble alloc] init];
                    //: sdkData.account = accid;
                    sdkData.account = accid;
                    //: sdkData.token = nimtoken;
                    sdkData.token = nimtoken;
                    //: sdkData.authType = 0;
                    sdkData.authType = 0;
                    //: sdkData.loginExtension = @"";
                    sdkData.loginExtension = @"";
                    //: [[CCCLoginManager sharedManager] setCurrentLoginData:sdkData];
                    [[FromMarkManager rounderMargin] setCurrentLoginData:sdkData];




                    //: NTESMainTabController * mainTab = [[NTESMainTabController alloc] initWithNibName:nil bundle:nil];
                    CutBarController * mainTab = [[CutBarController alloc] initWithNibName:nil bundle:nil];
                    //: [UIApplication sharedApplication].windows.firstObject.rootViewController = mainTab;
                    [UIApplication sharedApplication].windows.firstObject.rootViewController = mainTab;
                    //: [NIMUserDefaults standardUserDefaults].accountName = _usernameTextField.text;
                    [WastepaperBasketDefaults at].accountName = _usernameTextField.text;
                    //: [NIMUserDefaults standardUserDefaults].pCode = _passwordTextField.text;
                    [WastepaperBasketDefaults at].pCode = _passwordTextField.text;


            //: }];
            }];
        //: }else{
        }else{
            //: [self.loadingView animationClose];
            [self.loadingView iconEnable];
            //: [self.view makeToast:[NTESLanguageManager getTextWithKey:@"login_activity_login_failed"] duration:2.0 position:CSToastPositionCenter];
            [self.view makeToast:[MaxInformation off:StringFromInformationData(str_brotherCedeTitle)] duration:2.0 position:CSToastPositionCenter];
        }
    //: } failed:^(id responseObject, NSError *error) {
    } searched:^(id responseObject, NSError *error) {
        //: [self.loadingView animationClose];
        [self.loadingView iconEnable];
            //: _isloading = NO;
            _isloading = NO;
            //: [self.view makeToast:[NTESLanguageManager getTextWithKey:@"friend_verify_avtivity_net_error"] duration:2.0 position:CSToastPositionCenter];
            [self.view makeToast:[MaxInformation off:StringFromInformationData(str_leaderBrotherTitle)] duration:2.0 position:CSToastPositionCenter];
    //: }];
    }];
}

//: #pragma mark - UITextFieldDelegate
#pragma mark - UITextFieldDelegate
//: - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{

    //: if ([string isEqualToString:@"\n"]) {
    if ([string isEqualToString:@"\n"]) {
        //: [self doLogin];
        [self figureHolder];
        //: return NO;
        return NO;
    }
    //: return YES;
    return YES;
}

//: - (void)textFieldDidEndEditing:(UITextField *)textField {
- (void)textFieldDidEndEditing:(UITextField *)textField {
    //: self.secureButton.hidden = YES;
    self.secureButton.hidden = YES;
}

//: - (void)textFieldDidBeginEditing:(UITextField *)textField {
- (void)textFieldDidBeginEditing:(UITextField *)textField {
    //: self.secureButton.hidden = NO;
    self.secureButton.hidden = NO;
    //: [textField bringSubviewToFront:self.secureButton];
    [textField bringSubviewToFront:self.secureButton];
}

//: #pragma mark - Private
#pragma mark - Private
//: - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    //: [super touchesBegan:touches withEvent:event];
    [super touchesBegan:touches withEvent:event];
    //: [_usernameTextField resignFirstResponder];
    [_usernameTextField resignFirstResponder];
    //: [_passwordTextField resignFirstResponder];
    [_passwordTextField resignFirstResponder];
}

//: - (void)dealloc{
- (void)dealloc{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}

//: - (ZMONCustomLoadingView *)loadingView
- (SightView *)loadingView
{
    //: if(!_loadingView){
    if(!_loadingView){
        //: _loadingView = [[ZMONCustomLoadingView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
        _loadingView = [[SightView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
        //: _loadingView.hidden = YES;
        _loadingView.hidden = YES;
    }
    //: return _loadingView;
    return _loadingView;
}


//: @end
@end

Byte * InformationDataToCache(Byte *data) {
    int enforceSura = data[0];
    int minimum = data[1];
    int attendance = data[2];
    if (!enforceSura) return data + attendance;
    for (int i = 0; i < minimum / 2; i++) {
        int begin = attendance + i;
        int end = attendance + minimum - i - 1;
        Byte temp = data[begin];
        data[begin] = data[end];
        data[end] = temp;
    }
    data[0] = 0;
    data[attendance + minimum] = 0;
    return data + attendance;
}

NSString *StringFromInformationData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)InformationDataToCache(data)];
}  
