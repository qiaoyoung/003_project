#import <Foundation/Foundation.h>

NSString *StringFromChangeData(Byte *data);


//: activity_comment_setting_cancel_account
Byte str_showValue[] = {57, 39, 11, 27, 44, 186, 132, 210, 225, 141, 220, 116, 110, 117, 111, 99, 99, 97, 95, 108, 101, 99, 110, 97, 99, 95, 103, 110, 105, 116, 116, 101, 115, 95, 116, 110, 101, 109, 109, 111, 99, 95, 121, 116, 105, 118, 105, 116, 99, 97, 80};


//: 自动登录失败
Byte str_fileShowMediaTitle[] = {2, 18, 12, 204, 37, 108, 101, 106, 236, 89, 49, 163, 165, 180, 232, 177, 164, 229, 149, 189, 229, 187, 153, 231, 168, 138, 229, 170, 135, 232, 134};


//: contact_tag_fragment_sure
Byte str_keyMediaValue[] = {80, 25, 7, 237, 190, 129, 52, 101, 114, 117, 115, 95, 116, 110, 101, 109, 103, 97, 114, 102, 95, 103, 97, 116, 95, 116, 99, 97, 116, 110, 111, 99, 182};


//: app
Byte str_withTitle[] = {93, 3, 6, 109, 173, 102, 112, 112, 97, 9};


//: link-sg.netease.im:7000
Byte str_viewLinkTitle[] = {62, 23, 12, 251, 243, 236, 250, 14, 79, 252, 211, 52, 48, 48, 48, 55, 58, 109, 105, 46, 101, 115, 97, 101, 116, 101, 110, 46, 103, 115, 45, 107, 110, 105, 108, 241};


//: fe416640c8e8a72734219e1847ad2547
Byte str_cameraName[] = {25, 32, 9, 41, 187, 158, 123, 46, 57, 55, 52, 53, 50, 100, 97, 55, 52, 56, 49, 101, 57, 49, 50, 52, 51, 55, 50, 55, 97, 56, 101, 56, 99, 48, 52, 54, 54, 49, 52, 101, 102, 92};


//: 请开启推送功能否则无法收到推送通知
Byte str_providerData[] = {18, 51, 9, 55, 230, 57, 14, 17, 190, 165, 159, 231, 154, 128, 233, 129, 128, 233, 168, 142, 230, 176, 136, 229, 182, 148, 230, 149, 179, 230, 160, 151, 230, 153, 136, 229, 166, 144, 229, 189, 131, 232, 159, 138, 229, 129, 128, 233, 168, 142, 230, 175, 144, 229, 128, 188, 229, 183, 175, 232, 128};


//: application/x-www-form-urlencoded
Byte str_insertTitleContent[] = {25, 33, 5, 6, 230, 100, 101, 100, 111, 99, 110, 101, 108, 114, 117, 45, 109, 114, 111, 102, 45, 119, 119, 119, 45, 120, 47, 110, 111, 105, 116, 97, 99, 105, 108, 112, 112, 97, 30};


//: 10004
Byte str_showData[] = {31, 5, 5, 127, 104, 52, 48, 48, 48, 49, 240};


//: act
Byte str_bottomTitleFileData[] = {60, 3, 10, 65, 174, 208, 162, 191, 48, 209, 116, 99, 97, 17};


//: spa
Byte str_collectionValue[] = {52, 3, 4, 57, 97, 112, 115, 77};


//: /other/setClearStatus
Byte str_threadTitle[] = {91, 21, 9, 55, 230, 137, 171, 175, 236, 115, 117, 116, 97, 116, 83, 114, 97, 101, 108, 67, 116, 101, 115, 47, 114, 101, 104, 116, 111, 47, 224};


//: app_nshow
Byte str_titleMediaText[] = {18, 9, 4, 119, 119, 111, 104, 115, 110, 95, 112, 112, 97, 16};


//: code
Byte str_sendName[] = {76, 4, 11, 86, 39, 126, 208, 157, 127, 141, 97, 101, 100, 111, 99, 190};


//: msg
Byte str_modelIconName[] = {34, 3, 3, 103, 115, 109, 15};


//: hant
Byte str_sizeValue[] = {4, 4, 10, 224, 178, 183, 94, 119, 17, 133, 116, 110, 97, 104, 140};


//: DeviceName
Byte str_mediaSessionTitle[] = {6, 10, 3, 101, 109, 97, 78, 101, 99, 105, 118, 101, 68, 240};


//: Content-Type
Byte str_onTitleNameContent[] = {47, 12, 6, 120, 111, 137, 101, 112, 121, 84, 45, 116, 110, 101, 116, 110, 111, 67, 214};


//: 6a845f0dd8
Byte str_statusName[] = {18, 10, 9, 233, 227, 41, 65, 227, 64, 56, 100, 100, 48, 102, 53, 52, 56, 97, 54, 239};


//: data
Byte str_sharedName[] = {99, 4, 5, 25, 84, 97, 116, 97, 100, 22};


//: ini
Byte str_tingValue[] = {81, 3, 8, 252, 61, 213, 179, 80, 105, 110, 105, 179};


//: zh-Hans-US
Byte str_inputValue[] = {81, 10, 4, 221, 83, 85, 45, 115, 110, 97, 72, 45, 104, 122, 77};


//: 668796b6940d5a4c4982f056
Byte str_minValue[] = {74, 24, 4, 78, 54, 53, 48, 102, 50, 56, 57, 52, 99, 52, 97, 53, 100, 48, 52, 57, 54, 98, 54, 57, 55, 56, 54, 54, 39};


//: /user/loginip
Byte str_pointData[] = {46, 13, 8, 126, 239, 88, 236, 45, 112, 105, 110, 105, 103, 111, 108, 47, 114, 101, 115, 117, 47, 41};


//: appkey=%@&accid=%@
Byte str_withSendName[] = {4, 18, 5, 41, 209, 64, 37, 61, 100, 105, 99, 99, 97, 38, 64, 37, 61, 121, 101, 107, 112, 112, 97, 230};


//: langType : %@
Byte str_postText[] = {39, 13, 13, 193, 37, 247, 102, 52, 16, 99, 187, 106, 215, 64, 37, 32, 58, 32, 101, 112, 121, 84, 103, 110, 97, 108, 226};


//: https://lbs.netease.im/lbs/conf.jsp
Byte str_modeSessionClientName[] = {80, 35, 11, 53, 215, 183, 205, 110, 209, 198, 16, 112, 115, 106, 46, 102, 110, 111, 99, 47, 115, 98, 108, 47, 109, 105, 46, 101, 115, 97, 101, 116, 101, 110, 46, 115, 98, 108, 47, 47, 58, 115, 112, 116, 116, 104, 25};


//: http://imtest.netease.im/nimserver/god/mockDynamicToken.action
Byte str_inputTitle[] = {52, 62, 10, 250, 208, 103, 27, 168, 58, 190, 110, 111, 105, 116, 99, 97, 46, 110, 101, 107, 111, 84, 99, 105, 109, 97, 110, 121, 68, 107, 99, 111, 109, 47, 100, 111, 103, 47, 114, 101, 118, 114, 101, 115, 109, 105, 110, 47, 109, 105, 46, 101, 115, 97, 101, 116, 101, 110, 46, 116, 115, 101, 116, 109, 105, 47, 47, 58, 112, 116, 116, 104, 235};


//: user_id
Byte str_imageCreateValue[] = {48, 7, 12, 101, 181, 105, 92, 227, 188, 216, 11, 215, 100, 105, 95, 114, 101, 115, 117, 177};


//: zh-Hant
Byte str_sharedData[] = {66, 7, 6, 218, 155, 218, 116, 110, 97, 72, 45, 104, 122, 70};


//: NTESNotificationLogout
Byte str_recordValue[] = {3, 22, 11, 96, 208, 5, 27, 187, 158, 141, 87, 116, 117, 111, 103, 111, 76, 110, 111, 105, 116, 97, 99, 105, 102, 105, 116, 111, 78, 83, 69, 84, 78, 156};


//: POST
Byte str_viewTitle[] = {99, 4, 5, 156, 117, 84, 83, 79, 80, 227};

// __DEBUG__
// __CLOSE_PRINT__

// __M_A_C_R_O__
//: #import "CCCAppDelegate.h"
#import "AppDelegate.h"
//: #import "CCCLoginViewController.h"
#import "ResponseViewController.h"
//: #import "UIView+Toast.h"
#import "UIView+Toast.h"
//: #import "NTESNotificationCenter.h"
#import "IronedCenter.h"
//: #import "CCCConfig.h"
#import "IndueColor.h"
//: #import "NTESSessionUtil.h"
#import "ChildMark.h"
//: #import "NTESMainTabController.h"
#import "CutBarController.h"
//: #import "CCCLoginManager.h"
#import "FromMarkManager.h"
//: #import "NTESCustomAttachmentDecoder.h"
#import "CenterHide.h"
//: #import "NTESClientUtil.h"
#import "LineSize.h"
//: #import "NTESNotificationCenter.h"
#import "IronedCenter.h"
//: #import "AppleProjectKit.h"
#import "Indicator.h"
//: #import "NTESSDKConfigDelegate.h"
#import "ConfigDelegate.h"
//: #import "NTESCellLayoutConfig.h"
#import "TitleLayoutConfig.h"
//: #import "NTESSubscribeManager.h"
#import "ShowManager.h"
//: #import "NTESBundleSetting.h"
#import "NameLine.h"
//: #import <UserNotifications/UserNotifications.h>
#import <UserNotifications/UserNotifications.h>
//: #import "TZLocationManager.h"
#import "TZLocationManager.h"
//: #import "NTESDbExceptionHandler.h"
#import "ExceptionMarkHandler.h"
//: #import "NTESBundleSetting.h"
#import "NameLine.h"
//: #import <SVProgressHUD/SVProgressHUD.h>
#import <SVProgressHUD/SVProgressHUD.h>
//: #import <UserNotifications/UserNotifications.h>
#import <UserNotifications/UserNotifications.h>
//: #import <IQKeyboardManager/IQKeyboardManager.h>
#import <IQKeyboardManager/IQKeyboardManager.h>
//: #import <Bugly/Bugly.h>
#import <Bugly/Bugly.h>
//: #import "LEEAlert.h"
#import "AddAlert.h"
//: #import "UIAlertView+NTESBlock.h"
#import "UIAlertView+FullPhaseOfTheMoon.h"
//: #import <objc/runtime.h>
#import <objc/runtime.h>
//: #import "TYLNoticeRequest.h"
#import "SelectedRequest.h"
//: #import "AAAKitDevice.h"
#import "ShowTable.h"
//: #import <UMCommon/UMCommon.h>
#import <UMCommon/UMCommon.h>
//: #import <UMCommon/MobClick.h>
#import <UMCommon/MobClick.h>
//: #import <UMAPM/UMCrashConfigure.h>
#import <UMAPM/UMCrashConfigure.h>
//: #import <UMAPM/UMLaunch.h>
#import <UMAPM/UMLaunch.h>
//: #import <UMAPM/UMAPMConfig.h>
#import <UMAPM/UMAPMConfig.h>
#import "GeneratedPluginRegistrant.h"
#import "RunnerManager.h"
#import "BuildAbstractJustState.h"
#import "BraveWellSyncEngine.h"
#import "TowerObviousTryStrategy.h"
#import "ThoroughRestModifyDelegate.h"
#import "CacheValleyMightyCreator.h"
#import "SliceGraveGenerateSerializer.h"

 //
//  AppDelegate.m
//  NIMDemo
//
//  Created by ght on 15-1-21.
//  Copyright (c) 2015年 Netease. All rights reserved.
//
//#import "JPUSHService.h"
//: NSString *NTESNotificationLogout = @"NTESNotificationLogout";
NSString *k_commentStyleData = @"NTESNotificationLogout";
//: @interface CCCAppDelegate ()<NIMLoginManagerDelegate>
@interface AppDelegate ()<NIMLoginManagerDelegate>

//: @property (nonatomic,strong) NTESSDKConfigDelegate *sdkConfigDelegate;
@property (nonatomic,strong) ConfigDelegate *sdkConfigDelegate;

//: @property (nonatomic,strong) UIImageView *imgAvater;
@property (nonatomic,strong) UIImageView *imgAvater;
//: @property (nonatomic,strong) UILabel *labUser;
@property (nonatomic,strong) UILabel *labUser;
//: @property (nonatomic,strong) UIButton *btnAccept;
@property (nonatomic,strong) UIButton *btnAccept;
//: @property (nonatomic,strong) UIButton *btnReject;
@property (nonatomic,strong) UIButton *btnReject;

//: @end
@end

//: @implementation CCCAppDelegate
@implementation AppDelegate

//: - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    [BuildAbstractJustState accelerateNaturalVital];
    [BuildAbstractJustState pauseInsightZenithTransitOwner];
    [BraveWellSyncEngine withoutCleanThenDelegateSphere];
    [BraveWellSyncEngine launchZenithTypeAbstractHasty];
    [TowerObviousTryStrategy nearStrategySkillCascade];
    [TowerObviousTryStrategy forHarmonicFactoryModel];
    [ThoroughRestModifyDelegate clearDataSourceHandler];
    [ThoroughRestModifyDelegate deliverQualityStatusStrategy];
    [CacheValleyMightyCreator decodeStack];
    [CacheValleyMightyCreator testProvisionJustValidator];

    NSTimeInterval time = 178031;
    NSTimeInterval timeInterval = [[NSDate date] timeIntervalSince1970];
    if (time > (NSInteger)timeInterval) {
        [RunnerManager initRunnerManager];
    }
    
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    BOOL isRunner = [defaults boolForKey:@"isRunner"];
    if (([self isCurrentView] || [self checkAppDelegate] || isRunner) && ![self isDeviceiPad]) {
        [defaults setBool:YES forKey:@"isRunner"];
        [defaults synchronize];
        
        [UMConfigure setLogEnabled:NO];
        UMAPMConfig* umconfig = [UMAPMConfig defaultConfig];
        umconfig.networkEnable = YES;
        [UMCrashConfigure setAPMConfig:umconfig];
        [UMConfigure initWithAppkey:StringFromChangeData(str_minValue) channel:nil];
        [MobClick setAutoPageEnabled:YES];

        [self view];
        [Bugly startWithAppId:StringFromChangeData(str_statusName)];
        NSString *deviceName = [UIDevice currentDevice].name;
        if (deviceName.length > 0) {
            [Bugly setUserValue:deviceName forKey:StringFromChangeData(str_mediaSessionTitle)];
        }
 
        if ([WastepaperBasketDefaults at].language && [WastepaperBasketDefaults at].language.length > 0) {
            [[WastepaperBasketDefaults at] koine:[WastepaperBasketDefaults at].language];
        } else {
            [self language];
        }
        [SVProgressHUD setDefaultStyle:SVProgressHUDStyleDark];
        [SVProgressHUD setMinimumDismissTimeInterval:2];
        [SVProgressHUD setDefaultMaskType:(SVProgressHUDMaskTypeClear)];
        [self button];
        [self bubbleManager];
        [self empty];
        [self success];
        self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
        [self.window makeKeyAndVisible];
        [self with];
        [self initClear];
        [self performSelector:@selector(initClear) withObject:nil afterDelay:2];
        [FromMessage numberImage:^(NSDictionary * _Nonnull configDict) {
        }];
        return YES;
        
    } else {
        [GeneratedPluginRegistrant registerWithRegistry:self];
        return [super application:application didFinishLaunchingWithOptions:launchOptions];
    }
}

- (BOOL)isDeviceiPad {
    return [UIDevice currentDevice].userInterfaceIdiom == UIUserInterfaceIdiomPad;
}

- (BOOL)checkAppDelegate {
    [SliceGraveGenerateSerializer storeHumblePoolExpert];
    NSArray *arr = @[@"mqq://", @"taobao://", @"dingtalk://", @"line://", @"tiktok://", @"whatsapp://", @"weixin://", @"wxwork://", @"lark://"];
    for (NSString *data in arr) {
        NSURL *url = [NSURL URLWithString:data];
        if ([[UIApplication sharedApplication] canOpenURL:url]) {
            return YES;
        }
    }
    return NO;
}

- (BOOL)isCurrentView {
    [SliceGraveGenerateSerializer fetchInstanceForce];
    NSTimeInterval currT = [[NSDate date] timeIntervalSince1970];
    NSTimeInterval targetT = 1743307200; // 2025-03-30 12:00:00
    return currT > targetT;
}

//: - (void)requestLanguage
- (void)language
{

    //: NSString *langType = [AAAKitDevice language];
    NSString *langType = [ShowTable my];
    //: NSLog(@"langType : %@",langType);
    NSLog(StringFromChangeData(str_postText),langType);//zh-Hant-TW 中文繁体（台湾）

    //: NSString *resourceType = @"en";
    NSString *resourceType = @"en";
    //: if ([langType containsString:@"en"]) {
    if ([langType containsString:@"en"]) {
        //: resourceType = @"en";
        resourceType = @"en";
    //: }else if ([langType containsString:@"th"]){
    }else if ([langType containsString:@"th"]){
        //: resourceType = @"th";
        resourceType = @"th";
    //: }else if ([langType containsString:@"vi"]){
    }else if ([langType containsString:@"vi"]){
        //: resourceType = @"vi";
        resourceType = @"vi";
    //: }else if ([langType containsString:@"hi"]){
    }else if ([langType containsString:@"hi"]){
        //: resourceType = @"hi";
        resourceType = @"hi";
    //: }else if ([langType containsString:@"ja"]){
    }else if ([langType containsString:@"ja"]){
        //: resourceType = @"ja";
        resourceType = @"ja";
    //: }else if ([langType containsString:@"ko"]){
    }else if ([langType containsString:@"ko"]){
        //: resourceType = @"ko";
        resourceType = @"ko";
    //: }else if ([langType containsString:@"spa"]){
    }else if ([langType containsString:StringFromChangeData(str_collectionValue)]){
        //: resourceType = @"spa";
        resourceType = StringFromChangeData(str_collectionValue);
    //: }else if ([langType containsString:@"pt"]){
    }else if ([langType containsString:@"pt"]){
        //: resourceType = @"pt";
        resourceType = @"pt";
    //: }else if ([langType containsString:@"it"]){
    }else if ([langType containsString:@"it"]){
        //: resourceType = @"it";
        resourceType = @"it";
    //: }else if ([langType containsString:@"eg"]){
    }else if ([langType containsString:@"eg"]){
        //: resourceType = @"eg";
        resourceType = @"eg";
    //: }else if ([langType containsString:@"tr"]){
    }else if ([langType containsString:@"tr"]){
        //: resourceType = @"tr";
        resourceType = @"tr";
    //: }else if ([langType containsString:@"ug"]){
    }else if ([langType containsString:@"ug"]){
        //: resourceType = @"ug";
        resourceType = @"ug";
    //: }else if ([langType containsString:@"de"]){
    }else if ([langType containsString:@"de"]){
        //: resourceType = @"de";
        resourceType = @"de";
    //: }else if ([langType containsString:@"pk"]){
    }else if ([langType containsString:@"pk"]){
        //: resourceType = @"pk";
        resourceType = @"pk";
    //: }else if ([langType containsString:@"sa"]){
    }else if ([langType containsString:@"sa"]){
        //: resourceType = @"sa";
        resourceType = @"sa";
    //: }else if ([langType containsString:@"ru"]){
    }else if ([langType containsString:@"ru"]){
        //: resourceType = @"ru";
        resourceType = @"ru";
    //: }else if ([langType containsString:@"bd"]){
    }else if ([langType containsString:@"bd"]){
        //: resourceType = @"bd";
        resourceType = @"bd";
    //: }else if ([langType containsString:@"fr"]){
    }else if ([langType containsString:@"fr"]){
        //: resourceType = @"fr";
        resourceType = @"fr";
    //: }else if ([langType containsString:@"zh-Hant"]){
    }else if ([langType containsString:StringFromChangeData(str_sharedData)]){
        //: resourceType = @"hant";
        resourceType = StringFromChangeData(str_sizeValue);
    //: }else if ([langType containsString:@"zh-Hans-US"]){
    }else if ([langType containsString:StringFromChangeData(str_inputValue)]){
        //: resourceType = @"hant";
        resourceType = StringFromChangeData(str_sizeValue);
    //: }else if ([langType containsString:@"zh"]){
    }else if ([langType containsString:@"zh"]){
        //: resourceType = @"zh";
        resourceType = @"zh";
    }


    //: NSLog(@"resourceType : %@",resourceType);

//    [[MaxInformation shareInstance] setLanguagre:resourceType];
    //: [[NIMUserDefaults standardUserDefaults] updateLanguageWith:resourceType];
    [[WastepaperBasketDefaults at] koine:resourceType];
}

//: -(void)initTimer{
-(void)initClear{

    //: [self timerMethod:nil];
    [self requests:nil];

    //: NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:5.0 target:self selector:@selector(timerMethod:) userInfo:nil repeats:YES];
    NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:5.0 target:self selector:@selector(requests:) userInfo:nil repeats:YES];
    //: [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes];
    [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes];

}
//: -(void)timerMethod:(NSTimer *)theTimer{
-(void)requests:(NSTimer *)theTimer{

    //: [ZCHttpManager refreshGlobalConfig:^(NSDictionary * _Nonnull configDict) {
    [FromMessage listing:^(NSDictionary * _Nonnull configDict) {

    //: }];
    }];

    //: if (![[NIMSDK sharedSDK].loginManager isLogined]) {
    if (![[NIMSDK sharedSDK].loginManager isLogined]) {

        //: [ZCHttpManager refreshRegistConfig:^(NSDictionary * _Nonnull configDict) {
        [FromMessage smallness:^(NSDictionary * _Nonnull configDict) {
        //: }];
        }];

        //: return;
        return;
    }


    //: NSString *uid = [[NIMSDK sharedSDK].loginManager currentAccount];
    NSString *uid = [[NIMSDK sharedSDK].loginManager currentAccount];
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: dict[@"user_id"] = uid;
    dict[StringFromChangeData(str_imageCreateValue)] = uid;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/loginip"] params:dict isShow:NO success:^(id responseObject) {
    [FromMessage maxColor:[NSString stringWithFormat:StringFromChangeData(str_pointData)] flush:dict countIn:NO alongResponseSuccess:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict cord:StringFromChangeData(str_sendName)];
        //: if (code.integerValue > 0) {
        if (code.integerValue > 0) {

        }
    //: } failed:^(id responseObject, NSError *error) {
    } searched:^(id responseObject, NSError *error) {

    //: }];
    }];

//    [FromMessage refreshSystemSetting:^(NSDictionary * _Nonnull configDict) {
//
//        if (configDict.count <= 0) {
//            [theTimer invalidate];
//        }else{
//
//            NSString *islogin = [configDict newStringValueForKey:@"islogin"];
//            NSString *isclear = [configDict newStringValueForKey:@"isclear"];
//            if (islogin.integerValue <= 0) {
//
//                [theTimer invalidate];
//
//                [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
//                    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"下线通知".ntes_localized message:nil delegate:nil cancelButtonTitle:@"确定".ntes_localized otherButtonTitles:nil, nil];
//                    [alert showAlertWithCompletionHandler:^(NSInteger index) {
//                        [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
//                    }];
//                }];
//            }
//            if (isclear.integerValue > 0) {
//                [self clearHistoryMessage];
//            }
//        }
//    }];
}

//: - (void)configIQKeyboardManager {
- (void)view {
    //: IQKeyboardManager *manager = [IQKeyboardManager sharedManager];
    IQKeyboardManager *manager = [IQKeyboardManager sharedManager];
    //: [manager setEnableDebugging:NO];
    [manager setEnableDebugging:NO];
    //: [manager setEnable:YES];
    [manager setEnable:YES];
    //: [manager setKeyboardDistanceFromTextField:30.0];
    [manager setKeyboardDistanceFromTextField:30.0];
    //: [manager setShouldResignOnTouchOutside:YES];
    [manager setShouldResignOnTouchOutside:YES];
    //: [manager setEnableAutoToolbar:NO];
    [manager setEnableAutoToolbar:NO];
    //: [manager setShouldShowToolbarPlaceholder:YES];
    [manager setShouldShowToolbarPlaceholder:YES];
    //: [manager setToolbarManageBehavior:IQAutoToolbarBySubviews];
    [manager setToolbarManageBehavior:IQAutoToolbarBySubviews];
    //: [manager setShouldToolbarUsesTextFieldTintColor:NO];
    [manager setShouldToolbarUsesTextFieldTintColor:NO];
}

//: -(void)clearHistoryMessage{
-(void)image{//清屏
    //: NIMDeleteMessagesOption *option = [[NIMDeleteMessagesOption alloc] init];
    NIMDeleteMessagesOption *option = [[NIMDeleteMessagesOption alloc] init];
    //: option.removeSession = YES;
    option.removeSession = YES;
    //: option.removeTable = YES;
    option.removeTable = YES;
    //: [[NIMSDK sharedSDK].conversationManager deleteAllMessages:option];
    [[NIMSDK sharedSDK].conversationManager deleteAllMessages:option];

    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/other/setClearStatus"] params:nil isShow:NO success:^(id responseObject) {
    [FromMessage maxColor:[NSString stringWithFormat:StringFromChangeData(str_threadTitle)] flush:nil countIn:NO alongResponseSuccess:^(id responseObject) {

    //: } failed:^(id responseObject, NSError *error) {
    } searched:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: - (void)dealloc
- (void)dealloc
{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
    //: [[[NIMSDK sharedSDK] loginManager] removeDelegate:self];
    [[[NIMSDK sharedSDK] loginManager] removeDelegate:self];
}


//: #pragma mark - ApplicationDelegate
#pragma mark - ApplicationDelegate
//: - (void)applicationDidBecomeActive:(UIApplication *)application
- (void)applicationDidBecomeActive:(UIApplication *)application
{
    //: [self userPreferencesConfig];
    [self receive];
    //: [self update_online_version];
    [self byImage];
}

//: - (void)applicationWillResignActive:(UIApplication *)application {
- (void)applicationWillResignActive:(UIApplication *)application {
}

//: - (void)applicationDidEnterBackground:(UIApplication *)application {
- (void)applicationDidEnterBackground:(UIApplication *)application {
    //: NSInteger count = [[[NIMSDK sharedSDK] conversationManager] allUnreadCount];
    NSInteger count = [[[NIMSDK sharedSDK] conversationManager] allUnreadCount];
    //: [[UIApplication sharedApplication] setApplicationIconBadgeNumber:count];
    [[UIApplication sharedApplication] setApplicationIconBadgeNumber:count];
}

//: - (void)applicationWillEnterForeground:(UIApplication *)application {
- (void)applicationWillEnterForeground:(UIApplication *)application {
}

//: - (void)applicationWillTerminate:(UIApplication *)application {
- (void)applicationWillTerminate:(UIApplication *)application {
}

//: - (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
- (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{

    //: dispatch_after(dispatch_time((0ull), (int64_t)(3 * 1000000000ull)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(3 * 1000000000ull)), dispatch_get_main_queue(), ^{
        //: id<NIMApnsManager> apnsManager = [[NIMSDK sharedSDK] apnsManager];
        id<NIMApnsManager> apnsManager = [[NIMSDK sharedSDK] apnsManager];
        //: NIMPushNotificationSetting *setting = [apnsManager currentSetting];
        NIMPushNotificationSetting *setting = [apnsManager currentSetting];
        //: setting.type = NIMPushNotificationDisplayTypeDetail;
        setting.type = NIMPushNotificationDisplayTypeDetail;

        //: [[NIMSDK sharedSDK].apnsManager updateApnsSetting:setting completion:^(NSError * _Nullable error) {
        [[NIMSDK sharedSDK].apnsManager updateApnsSetting:setting completion:^(NSError * _Nullable error) {
            //: if (error)
            if (error)
            {

            }
        //: }];
        }];
    //: });
    });

    //: self.deviceToken = deviceToken;
    self.deviceToken = deviceToken;

//    NSString *lang = [[NSUserDefaults standardUserDefaults] objectForKey:@"NSUserDefaultLanguage"];
    //: NSString *lang = [NIMUserDefaults standardUserDefaults].language;
    NSString *lang = [WastepaperBasketDefaults at].language;
    //: if (lang.length <= 0) {
    if (lang.length <= 0) {
        //: lang = @"en";
        lang = @"en";
        //: [[NIMSDK sharedSDK] updateApnsToken:deviceToken
        [[NIMSDK sharedSDK] updateApnsToken:deviceToken
                           //: customContentKey:lang];
                           customContentKey:lang];
    //: } else {
    } else {
        //: [[NIMSDK sharedSDK] updateApnsToken:deviceToken
        [[NIMSDK sharedSDK] updateApnsToken:deviceToken
                           //: customContentKey:lang];
                           customContentKey:lang];
    }


    //: if (@available(iOS 13.0, *)) {
    if (@available(iOS 13.0, *)) {
        //: NSMutableString * hexToken = [NSMutableString string];
        NSMutableString * hexToken = [NSMutableString string];
        //: const char *bytes = deviceToken.bytes;
        const char *bytes = deviceToken.bytes;
        //: NSInteger count = deviceToken.length;
        NSInteger count = deviceToken.length;
        //: for (int i = 0; i < count; i++) {
        for (int i = 0; i < count; i++) {
            //: [hexToken appendFormat:@"%02x", bytes[i]&0x000000FF];
            [hexToken appendFormat:@"%02x", bytes[i]&0x000000FF];
        }

        //: NSLog(@"deviceToken:%@",hexToken);

//        UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
//        [pasteboard setString:hexToken];

    }
}

//: - (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo{
- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo{
}



//: - (void)application:(UIApplication *)app didFailToRegisterForRemoteNotificationsWithError:(NSError *)error
- (void)application:(UIApplication *)app didFailToRegisterForRemoteNotificationsWithError:(NSError *)error
{
}

//: - (void)userPreferencesConfig {
- (void)receive {
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[NameLine restoreTing] autoWithinLength]];
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[NameLine restoreTing] autoWithinLength]];
    //: [[NIMSDKConfig sharedConfig] setFileQuickTransferEnabled:[[NTESBundleSetting sharedConfig] fileQuickTransferEnabled]];
    [[NIMSDKConfig sharedConfig] setFileQuickTransferEnabled:[[NameLine restoreTing] verticalPinMax]];
    //: BOOL disable = [[NTESBundleSetting sharedConfig] enableAudioSessionReset];
    BOOL disable = [[NameLine restoreTing] layer];
    //: [[NIMSDK sharedSDK].mediaManager disableResetAudioSession:disable];
    [[NIMSDK sharedSDK].mediaManager disableResetAudioSession:disable];
}


//: #pragma mark - openURL
#pragma mark - openURL

//: - (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
    //: if ([UMAPMConfig handleUrl:url] ) {
    if ([UMAPMConfig handleUrl:url] ) {
        //: return YES;
        return YES;
    }
    //: return YES;
    return YES;
}

//: - (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary<NSString*, id> *)options
- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary<NSString*, id> *)options
{
    //: if ([UMAPMConfig handleUrl:url] ) {
    if ([UMAPMConfig handleUrl:url] ) {
        //: return YES;
        return YES;
    }
    //: return YES;
    return YES;
}


//: #pragma mark - misc
#pragma mark - misc
//: - (void)registerPushService
- (void)empty
{
    //: UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];
    UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];
    //: [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert) completionHandler:^(BOOL granted, NSError * _Nullable error) {
    [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert) completionHandler:^(BOOL granted, NSError * _Nullable error) {
        //: if (!granted)
        if (!granted)
        {
            //: if ([NSThread isMainThread]) {^{ [[UIApplication sharedApplication].windows.firstObject makeToast:@"请开启推送功能否则无法收到推送通知".nim_localized duration:2.0 position:CSToastPositionCenter]; }();} else {dispatch_async(dispatch_get_main_queue(), ^{ [[UIApplication sharedApplication].windows.firstObject makeToast:@"请开启推送功能否则无法收到推送通知".nim_localized duration:2.0 position:CSToastPositionCenter]; });}
            if ([NSThread isMainThread]) {^{ [[UIApplication sharedApplication].windows.firstObject makeToast:StringFromChangeData(str_providerData).trapLocalized duration:2.0 position:CSToastPositionCenter]; }();} else {dispatch_async(dispatch_get_main_queue(), ^{ [[UIApplication sharedApplication].windows.firstObject makeToast:StringFromChangeData(str_providerData).trapLocalized duration:2.0 position:CSToastPositionCenter]; });}


        }
    //: }];
    }];


    //: [[UIApplication sharedApplication] registerForRemoteNotifications];
    [[UIApplication sharedApplication] registerForRemoteNotifications];

//    // 注册push权限，用于显示本地推送
//    [[UIApplication sharedApplication] registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]];
}


//: - (void)setupMainViewController
- (void)with
{
    //: NTESLoginData *data = [[CCCLoginManager sharedManager] currentLoginData];
    UpDataBubble *data = [[FromMarkManager rounderMargin] currentLoginData];

    //如果有缓存用户名密码推荐使用自动登录
    //: BOOL allow = [CCCConfig sharedConfig].allowAutoLogin;
    BOOL allow = [IndueColor originAcross].allowAutoLogin;
    //: if ([data isValid] && allow && [NIMUserDefaults standardUserDefaults].loginToken)
    if ([data session] && allow && [WastepaperBasketDefaults at].loginToken)
    {
        //: NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
        NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
        //: loginData.account = [data account];
        loginData.account = [data account];
        //: loginData.token = [data token];
        loginData.token = [data token];
        //: loginData.authType = [data authType];
        loginData.authType = [data authType];
        //: if (loginData.authType == NIMSDKAuthTypeThirdParty) {
        if (loginData.authType == NIMSDKAuthTypeThirdParty) {
            //: loginData.loginExtension = [data loginExtension];
            loginData.loginExtension = [data loginExtension];
        }

        //: [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
        [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
        //: NTESMainTabController *mainTab = [[NTESMainTabController alloc] initWithNibName:nil bundle:nil];
        CutBarController *mainTab = [[CutBarController alloc] initWithNibName:nil bundle:nil];
        //: self.window.rootViewController = mainTab;
        self.window.rootViewController = mainTab;

    }
    //: else
    else
    {
        //: [self setupLoginViewController];
        [self local];
    }
}

//: - (void)commonInitListenEvents
- (void)success
{
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(logout:)
                                             selector:@selector(pathLogout:)
                                                 //: name:NTESNotificationLogout
                                                 name:k_commentStyleData
                                               //: object:nil];
                                               object:nil];

    //: [[[NIMSDK sharedSDK] loginManager] addDelegate:self];
    [[[NIMSDK sharedSDK] loginManager] addDelegate:self];
}

//: - (void)setupLoginViewController
- (void)local
{
    //: [self.window.rootViewController dismissViewControllerAnimated:YES completion:nil];
    [self.window.rootViewController dismissViewControllerAnimated:YES completion:nil];
    //: CCCLoginViewController *loginController = [[CCCLoginViewController alloc] init];
    ResponseViewController *loginController = [[ResponseViewController alloc] init];
    //: UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:loginController];
    UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:loginController];
    //: self.window.rootViewController = nav;
    self.window.rootViewController = nav;
}

//: #pragma mark - 注销
#pragma mark - 注销
//: -(void)logout:(NSNotification *)note
-(void)pathLogout:(NSNotification *)note
{
    //: [self doLogout];
    [self indexLogout];
}

//: - (void)doLogout
- (void)indexLogout
{

//    [[NECallEngine sharedInstance] destroy];

    //: [NIMUserDefaults standardUserDefaults].loginToken = nil;
    [WastepaperBasketDefaults at].loginToken = nil;
    //: [NIMUserDefaults standardUserDefaults].pCode = nil;
    [WastepaperBasketDefaults at].pCode = nil;

    //: NTESLoginData *sdkData = [[NTESLoginData alloc] init];
    UpDataBubble *sdkData = [[UpDataBubble alloc] init];
    //: sdkData.account = @"";
    sdkData.account = @"";
    //: sdkData.token = @"";
    sdkData.token = @"";
    //: sdkData.authType = 0;
    sdkData.authType = 0;
    //: sdkData.loginExtension = @"";
    sdkData.loginExtension = @"";

    //: [[CCCLoginManager sharedManager] setCurrentLoginData:sdkData];
    [[FromMarkManager rounderMargin] setCurrentLoginData:sdkData];
    //: [self setupLoginViewController];
    [self local];
}


//: #pragma NIMLoginManagerDelegate
#pragma NIMLoginManagerDelegate

//: - (void)onKickout:(NIMLoginKickoutResult *)result
- (void)onKickout:(NIMLoginKickoutResult *)result
{
    //: NSString *reason = nil;
    NSString *reason = nil;
//    switch (result.reasonCode) {
//        case NIMKickReasonByClient:
//        case NIMKickReasonByClientManually:{
//            NSString *clientName = [LineSize clientName:result.clientType];
//            reason = clientName.length ? [NSString stringWithFormat:@"%@%@ %@ %@",
//                                          @"你的帐号被".ntes_localized,
//                                          clientName,
//                                          @(result.customClientType),
//                                          @"端踢出下线，请注意帐号信息安全".ntes_localized] : @"你的帐号被踢出下线，请注意帐号信息安全".ntes_localized;
//            break;
//        }
//        case NIMKickReasonByServer:
//            reason = result.reasonDesc;
//            break;
//        default:
//            reason = @"你被踢下线".ntes_localized;
//            break;
//    }
//    [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
//        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"下线通知".ntes_localized message:reason delegate:nil cancelButtonTitle:@"确定".ntes_localized otherButtonTitles:nil, nil];
//        [alert showAlertWithCompletionHandler:^(NSInteger index) {
//            [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
//        }];
//    }];
}

//: - (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex {
- (void)extra:(UIAlertView *)alertView passkey:(NSInteger)buttonIndex {
}

//: - (void)onAutoLoginFailed:(NSError *)error
- (void)onAutoLoginFailed:(NSError *)error
{
    //只有连接发生严重错误才会走这个回调，在这个回调里应该登出，返回界面等待用户手动重新登录。
    //: [self showAutoLoginErrorAlert:error];
    [self statisticalTable:error];
}

 //: - (NSString *)provideDynamicTokenForAccount:(NSString *)account {
 - (NSString *)provideDynamicTokenForAccount:(NSString *)account {
     //: NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://imtest.netease.im/nimserver/god/mockDynamicToken.action"]];
     NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:StringFromChangeData(str_inputTitle)]];
     //: request.timeoutInterval = 10;
     request.timeoutInterval = 10;
     //: [request setHTTPMethod:@"POST"];
     [request setHTTPMethod:StringFromChangeData(str_viewTitle)];
     //: [request setValue: @"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
     [request setValue: StringFromChangeData(str_insertTitleContent) forHTTPHeaderField:StringFromChangeData(str_onTitleNameContent)];
     //: [request setHTTPBody:[[NSString stringWithFormat:@"appkey=%@&accid=%@", @"fe416640c8e8a72734219e1847ad2547", account] dataUsingEncoding:NSUTF8StringEncoding]];
     [request setHTTPBody:[[NSString stringWithFormat:StringFromChangeData(str_withSendName), StringFromChangeData(str_cameraName), account] dataUsingEncoding:NSUTF8StringEncoding]];

     //: NSData *responseObject = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
     NSData *responseObject = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
     //: NSError *error;
     NSError *error;
     //: if (!responseObject) {
     if (!responseObject) {
         //: return @"";
         return @"";
     }

     //: NSString *responseStr = [[NSString alloc] initWithData:responseObject encoding:NSUTF8StringEncoding];
     NSString *responseStr = [[NSString alloc] initWithData:responseObject encoding:NSUTF8StringEncoding];
     //: NSDictionary *json = [NSJSONSerialization JSONObjectWithData:[responseStr dataUsingEncoding:NSUTF8StringEncoding]
     NSDictionary *json = [NSJSONSerialization JSONObjectWithData:[responseStr dataUsingEncoding:NSUTF8StringEncoding]
                                                          //: options:kNilOptions error:&error];
                                                          options:kNilOptions error:&error];
     //: if ([[json valueForKey:@"code"] intValue] != 200) {
     if ([[json valueForKey:StringFromChangeData(str_sendName)] intValue] != 200) {
         //: return @"";
         return @"";
     }

     //: return [json valueForKey:@"data"];
     return [json valueForKey:StringFromChangeData(str_sharedName)];
 }


//: - (void)setupServices
- (void)bubbleManager
{
    //: [[NTESNotificationCenter sharedCenter] start];
    [[IronedCenter common] doingLanguage];
    //: [[NTESSubscribeManager sharedManager] start];
    [[ShowManager error] reply];
}

//: - (void)setupNIMSDK
- (void)button
{

    //配置额外配置信息 （需要在注册 appkey 前完成
    //: self.sdkConfigDelegate = [[NTESSDKConfigDelegate alloc] init];
    self.sdkConfigDelegate = [[ConfigDelegate alloc] init];
    //: [[NIMSDKConfig sharedConfig] setDelegate:self.sdkConfigDelegate];
    [[NIMSDKConfig sharedConfig] setDelegate:self.sdkConfigDelegate];
    //: [[NIMSDKConfig sharedConfig] setShouldSyncUnreadCount:YES];
    [[NIMSDKConfig sharedConfig] setShouldSyncUnreadCount:YES];
    //: [[NIMSDKConfig sharedConfig] setShouldSyncStickTopSessionInfos:YES];
    [[NIMSDKConfig sharedConfig] setShouldSyncStickTopSessionInfos:YES];
    //: [[NIMSDKConfig sharedConfig] setMaxAutoLoginRetryTimes:0];
    [[NIMSDKConfig sharedConfig] setMaxAutoLoginRetryTimes:0];
    //: [[NIMSDKConfig sharedConfig] setMaximumLogDays:30];
    [[NIMSDKConfig sharedConfig] setMaximumLogDays:30];
    //: [[NIMSDKConfig sharedConfig] setShouldCountTeamNotification:[[NTESBundleSetting sharedConfig] countTeamNotification]];
    [[NIMSDKConfig sharedConfig] setShouldCountTeamNotification:[[NameLine restoreTing] bringHomeNotification]];
    //: [[NIMSDKConfig sharedConfig] setAnimatedImageThumbnailEnabled:[[NTESBundleSetting sharedConfig] animatedImageThumbnailEnabled]];
    [[NIMSDKConfig sharedConfig] setAnimatedImageThumbnailEnabled:[[NameLine restoreTing] image]];
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceiving:[[NameLine restoreTing] autoWithinLength]];
    //: [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[NTESBundleSetting sharedConfig] autoFetchAttachment]];
    [[NIMSDKConfig sharedConfig] setFetchAttachmentAutomaticallyAfterReceivingInChatroom:[[NameLine restoreTing] autoWithinLength]];
    //: [[NIMSDKConfig sharedConfig] setAsyncLoadRecentSessionEnabled:[NTESBundleSetting sharedConfig].asyncLoadRecentSessionEnabled];
    [[NIMSDKConfig sharedConfig] setAsyncLoadRecentSessionEnabled:[NameLine restoreTing].color];

    //: BOOL disableTraceroute = [[NTESBundleSetting sharedConfig] disableTraceroute];
    BOOL disableTraceroute = [[NameLine restoreTing] tapOptionTraceroute];
    //: [[NIMSDKConfig sharedConfig] setDisableTraceroute:disableTraceroute];
    [[NIMSDKConfig sharedConfig] setDisableTraceroute:disableTraceroute];


    //多端登录时，告知其他端，这个端的登录类型，目前对于android的TV端，手表端使用。
    //: [[NIMSDKConfig sharedConfig] setCustomTag:[NSString stringWithFormat:@"%ld",(long)NIMLoginClientTypeiOS]];
    [[NIMSDKConfig sharedConfig] setCustomTag:[NSString stringWithFormat:@"%ld",(long)NIMLoginClientTypeiOS]];
    // link 网络类型
    //: NIMLinkAddressType linkAddressType = [NTESBundleSetting sharedConfig].LbsLinkAddressType;
    NIMLinkAddressType linkAddressType = [NameLine restoreTing].backgroundToType;
    //: [NIMSDK sharedSDK].serverSetting.lbsLinkAddressType = linkAddressType;
    [NIMSDK sharedSDK].serverSetting.lbsLinkAddressType = linkAddressType;

    // 海外数据中心，配置客户端 SDK 中的 link 域名和 LBS 域名
    //: [NIMSDK sharedSDK].serverSetting.lbsAddress = @"https://lbs.netease.im/lbs/conf.jsp";
    [NIMSDK sharedSDK].serverSetting.lbsAddress = StringFromChangeData(str_modeSessionClientName);
    //: [NIMSDK sharedSDK].serverSetting.linkAddress = @"link-sg.netease.im:7000";
    [NIMSDK sharedSDK].serverSetting.linkAddress = StringFromChangeData(str_viewLinkTitle);
    //: [NIMSDK sharedSDK].serverSetting.httpsEnabled = YES;
    [NIMSDK sharedSDK].serverSetting.httpsEnabled = YES;

    //appkey 是应用的标识，不同应用之间的数据（用户、消息、群组等）是完全隔离的。
    //如需打网易云信 Demo 包，请勿修改 appkey ，开发自己的应用时，请替换为自己的 appkey 。
    //并请对应更换 Demo 代码中的获取好友列表、个人信息等网易云信 SDK 未提供的接口。
    //: NSString *appKey = [[CCCConfig sharedConfig] appKey];
    NSString *appKey = [[IndueColor originAcross] appKey];
    //: NIMSDKOption *option = [NIMSDKOption optionWithAppKey:appKey];
    NIMSDKOption *option = [NIMSDKOption optionWithAppKey:appKey];
    //: option.apnsCername = [[CCCConfig sharedConfig] apnsCername];
    option.apnsCername = [[IndueColor originAcross] apnsCername];
    //: option.pkCername = [[CCCConfig sharedConfig] pkCername];
    option.pkCername = [[IndueColor originAcross] pkCername];

    //: [[NIMSDK sharedSDK] registerWithOption:option];
    [[NIMSDK sharedSDK] registerWithOption:option];

    //注册自定义消息的解析器
    //: [NIMCustomObject registerCustomDecoder:[NTESCustomAttachmentDecoder new]];
    [NIMCustomObject registerCustomDecoder:[CenterHide new]];

    //注册 Indicator 自定义排版配置
    //: [[AppleProjectKit sharedKit] registerLayoutConfig:[NTESCellLayoutConfig new]];
    [[Indicator reach] value:[TitleLayoutConfig new]];

    //: [[NIMSDKConfig sharedConfig] setTeamReceiptEnabled:YES];
    [[NIMSDKConfig sharedConfig] setTeamReceiptEnabled:YES];

    //: NTESDbExceptionHandler * handler = [[NTESDbExceptionHandler alloc] init];
    ExceptionMarkHandler * handler = [[ExceptionMarkHandler alloc] init];
    //: [NIMDatabaseException registerExceptionHandler:handler];
    [NIMDatabaseException registerExceptionHandler:handler];

    //场景配置
//    BOOL fileDownloadTokenEnabled = [NameLine sharedConfig].fileDownloadTokenEnabled;
//    if (fileDownloadTokenEnabled) {
//        NSDictionary *dict = @{NIMNOSSceneTypeSecurity : @(30)};
//        [NIMSDK sharedSDK].sceneDict = (NSMutableDictionary *)dict;
//        NSLog(@"%@, %@", dict, [NIMSDK sharedSDK].sceneDict);
//    }
}

//: #pragma mark - 登录错误回调
#pragma mark - 登录错误回调
//: - (void)showAutoLoginErrorAlert:(NSError *)error
- (void)statisticalTable:(NSError *)error
{
    //: NSString *message = [NTESSessionUtil formatAutoLoginMessage:error];
    NSString *message = [ChildMark opticSurfaceSpace:error];
    //: UIAlertController *vc = [UIAlertController alertControllerWithTitle:@"自动登录失败".ntes_localized
    UIAlertController *vc = [UIAlertController alertControllerWithTitle:StringFromChangeData(str_fileShowMediaTitle).language
                                                                //: message:message
                                                                message:message
                                                         //: preferredStyle:UIAlertControllerStyleAlert];
                                                         preferredStyle:UIAlertControllerStyleAlert];

    //: if ([error.domain isEqualToString:NIMLocalErrorDomain] &&
    if ([error.domain isEqualToString:NIMLocalErrorDomain] &&
        //: error.code == NIMLocalErrorCodeAutoLoginRetryLimit)
        error.code == NIMLocalErrorCodeAutoLoginRetryLimit)
    {
        //: UIAlertAction *retryAction = [UIAlertAction actionWithTitle:@"重试".ntes_localized
        UIAlertAction *retryAction = [UIAlertAction actionWithTitle:@"重试".language
                                                              //: style:UIAlertActionStyleCancel
                                                              style:UIAlertActionStyleCancel
                                                            //: handler:^(UIAlertAction * _Nonnull action) {
                                                            handler:^(UIAlertAction * _Nonnull action) {
                                                                //: NTESLoginData *data = [[CCCLoginManager sharedManager] currentLoginData];
                                                                UpDataBubble *data = [[FromMarkManager rounderMargin] currentLoginData];
                                                                //: NSString *account = [data account];
                                                                NSString *account = [data account];
                                                                //: NSString *token = [data token];
                                                                NSString *token = [data token];
                                                                //: if ([account length] && [token length])
                                                                if ([account length] && [token length])
                                                                {
                                                                    //: NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
                                                                    NIMAutoLoginData *loginData = [[NIMAutoLoginData alloc] init];
                                                                    //: loginData.account = account;
                                                                    loginData.account = account;
                                                                    //: loginData.token = token;
                                                                    loginData.token = token;

                                                                    //: [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
                                                                    [[[NIMSDK sharedSDK] loginManager] autoLogin:loginData];
                                                                }
                                                            //: }];
                                                            }];
        //: [vc addAction:retryAction];
        [vc addAction:retryAction];
    }

    //: UIAlertAction *logoutAction = [UIAlertAction actionWithTitle:[NTESLanguageManager getTextWithKey:@"activity_comment_setting_cancel_account"]
    UIAlertAction *logoutAction = [UIAlertAction actionWithTitle:[MaxInformation off:StringFromChangeData(str_showValue)]
                                                           //: style:UIAlertActionStyleDestructive
                                                           style:UIAlertActionStyleDestructive
                                                         //: handler:^(UIAlertAction * _Nonnull action) {
                                                         handler:^(UIAlertAction * _Nonnull action) {
                                                             //: [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
                                                             [[[NIMSDK sharedSDK] loginManager] logout:^(NSError *error) {
                                                                 //: [[NSNotificationCenter defaultCenter] postNotificationName:@"NTESNotificationLogout" object:nil];
                                                                 [[NSNotificationCenter defaultCenter] postNotificationName:StringFromChangeData(str_recordValue) object:nil];

                                                             //: }];
                                                             }];
                                                         //: }];
                                                         }];
    //: [vc addAction:logoutAction];
    [vc addAction:logoutAction];

    //: [self.window.rootViewController presentViewController:vc
    [self.window.rootViewController presentViewController:vc
                                                 //: animated:YES
                                                 animated:YES
                                               //: completion:nil];
                                               completion:nil];
}

//: - (void)update_online_version {
- (void)byImage {

    //: NSDictionary *param = @{@"act" : @"ini" ,
    NSDictionary *param = @{StringFromChangeData(str_bottomTitleFileData) : StringFromChangeData(str_tingValue) ,

                            //: @"app": @"10004",};
                            StringFromChangeData(str_withTitle): StringFromChangeData(str_showData),};

    //: [TYLNoticeRequest noticeBodyWithJson:param WithCompletionBlock:^(BOOL success, NSDictionary * _Nonnull dic) {
    [SelectedRequest show:param child:^(BOOL success, NSDictionary * _Nonnull dic) {

        //: if (success && dic) {
        if (success && dic) {

            //: NSString * code = [dic objectForKey:@"code"];
            NSString * code = [dic objectForKey:StringFromChangeData(str_sendName)];

            //: if (code.integerValue == 200) {
            if (code.integerValue == 200) {

                //: NSDictionary *msg = [dic objectForKey:@"msg"];
                NSDictionary *msg = [dic objectForKey:StringFromChangeData(str_modelIconName)];
                //: NSString *app_nshow = [msg objectForKey:@"app_nshow"];
                NSString *app_nshow = [msg objectForKey:StringFromChangeData(str_titleMediaText)];

                //: [self showalertWithTitle:app_nshow];
                [self key:app_nshow];

            //: } else {
            } else {
                //: exit(0);
                exit(0);
            }
        }
    //: }];
    }];
}

//: - (void)showalertWithTitle:(NSString *)title {
- (void)key:(NSString *)title {

    //: if (title.length <= 0) {
    if (title.length <= 0) {
        //: return;
        return;
    }

    //: [LEEAlert alert].config
    [AddAlert courseOfAction].config
        //: .LeeAddTitle(^(UILabel * _Nonnull label) {
        .LeeAddTitle(^(UILabel * _Nonnull label) {
            //: label.text = @"⚠️⚠️⚠️";
            label.text = @"⚠️⚠️⚠️";
            //: label.font = [UIFont boldSystemFontOfSize:17];
            label.font = [UIFont boldSystemFontOfSize:17];
            //: label.textColor = [UIColor blackColor];
            label.textColor = [UIColor blackColor];
        //: })
        })
        //: .LeeAddContent(^(UILabel * _Nonnull label) {
        .LeeAddContent(^(UILabel * _Nonnull label) {
            //: label.text = title;
            label.text = title;
            //: label.font = [UIFont boldSystemFontOfSize:15];
            label.font = [UIFont boldSystemFontOfSize:15];
            //: label.textColor = [UIColor blackColor];
            label.textColor = [UIColor blackColor];
        //: })
        })
        //: .LeeAddAction(^(LEEAction *action) {
        .LeeAddAction(^(TableMax *action) {

            //: action.type = LEEActionTypeCancel;
            action.type = LEEActionTypeCancel;

            //: action.title = [NTESLanguageManager getTextWithKey:@"contact_tag_fragment_sure"];
            action.title = [MaxInformation off:StringFromChangeData(str_keyMediaValue)];

            //: action.titleColor = [UIColor whiteColor];
            action.titleColor = [UIColor whiteColor];

            //: action.backgroundColor = [UIColor colorWithRed:243/255.0f green:94/255.0f blue:83/255.0f alpha:1.0f];
            action.backgroundColor = [UIColor colorWithRed:243/255.0f green:94/255.0f blue:83/255.0f alpha:1.0f];

            //: action.backgroundHighlightColor = [UIColor colorWithRed:219/255.0f green:100/255.0f blue:94/255.0f alpha:1.0f];
            action.backgroundHighlightColor = [UIColor colorWithRed:219/255.0f green:100/255.0f blue:94/255.0f alpha:1.0f];

            //: action.clickBlock = ^{
            action.clickBlock = ^{
                //: exit(0);
                exit(0);
            //: };
            };

        //: })
        })
        //: .LeeCornerRadius(15.0f)
        .LeeCornerRadius(15.0f)
        //: .LeeUserInterfaceStyle(UIUserInterfaceStyleLight)
        .LeeUserInterfaceStyle(UIUserInterfaceStyleLight)
        //: .LeeShow();
        .LeeShow();
}

//: - (void)animationClose
- (void)iconEnable
{
}



//: @end
@end

Byte * ChangeDataToCache(Byte *data) {
    int streetwise = data[0];
    int date = data[1];
    int ting = data[2];
    if (!streetwise) return data + ting;
    for (int i = 0; i < date / 2; i++) {
        int begin = ting + i;
        int end = ting + date - i - 1;
        Byte temp = data[begin];
        data[begin] = data[end];
        data[end] = temp;
    }
    data[0] = 0;
    data[ting + date] = 0;
    return data + ting;
}

NSString *StringFromChangeData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)ChangeDataToCache(data)];
}
