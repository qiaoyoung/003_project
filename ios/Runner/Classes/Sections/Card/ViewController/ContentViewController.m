
#import <Foundation/Foundation.h>

NSString *StringFromFrameData(Byte *data);


//: mobile
Byte str_dateMessageContent[] = {19, 6, 8, 108, 145, 240, 20, 6, 101, 108, 105, 98, 111, 109, 41};


//: request_successful
Byte str_cornerPostData[] = {47, 18, 11, 103, 58, 18, 183, 130, 24, 82, 2, 108, 117, 102, 115, 115, 101, 99, 99, 117, 115, 95, 116, 115, 101, 117, 113, 101, 114, 54};


//: head_default
Byte str_sizeTitleValue[] = {65, 12, 9, 109, 157, 59, 227, 95, 194, 116, 108, 117, 97, 102, 101, 100, 95, 100, 97, 101, 104, 115};


//: account
Byte str_thatText[] = {72, 7, 13, 128, 178, 143, 63, 171, 182, 202, 95, 85, 178, 116, 110, 117, 111, 99, 99, 97, 141};


//: back_arrow_bl
Byte str_clientImageData[] = {67, 13, 5, 102, 120, 108, 98, 95, 119, 111, 114, 114, 97, 95, 107, 99, 97, 98, 77};


//: group_info_activity_op_failed
Byte str_insertValue[] = {65, 29, 6, 205, 50, 95, 100, 101, 108, 105, 97, 102, 95, 112, 111, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 111, 102, 110, 105, 95, 112, 117, 111, 114, 103, 233};


//: add_friend_activity_add_friend
Byte str_mediaNameValue[] = {5, 30, 13, 193, 84, 150, 212, 56, 233, 10, 156, 168, 199, 100, 110, 101, 105, 114, 102, 95, 100, 100, 97, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 100, 110, 101, 105, 114, 102, 95, 100, 100, 97, 195};


//: contact_tag_fragment_add_success
Byte str_iconContent[] = {55, 32, 12, 186, 93, 203, 131, 69, 180, 142, 5, 91, 115, 115, 101, 99, 99, 117, 115, 95, 100, 100, 97, 95, 116, 110, 101, 109, 103, 97, 114, 102, 95, 103, 97, 116, 95, 116, 99, 97, 116, 110, 111, 99, 84};


//: black_list_activity_remove_black_failed
Byte str_sendContent[] = {81, 39, 9, 208, 213, 149, 131, 167, 240, 100, 101, 108, 105, 97, 102, 95, 107, 99, 97, 108, 98, 95, 101, 118, 111, 109, 101, 114, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 116, 115, 105, 108, 95, 107, 99, 97, 108, 98, 133};


//: add_friend_request_fail
Byte str_cameraData[] = {14, 23, 13, 175, 197, 54, 247, 240, 154, 23, 246, 80, 27, 108, 105, 97, 102, 95, 116, 115, 101, 117, 113, 101, 114, 95, 100, 110, 101, 105, 114, 102, 95, 100, 100, 97, 31};


//: type
Byte str_keyText[] = {99, 4, 6, 105, 135, 108, 101, 112, 121, 116, 100};


//: #2BBCFB
Byte str_showFileData[] = {84, 7, 7, 28, 93, 11, 235, 66, 70, 67, 66, 66, 50, 35, 54};


//: data
Byte str_imageCornerValue[] = {3, 4, 6, 137, 119, 122, 97, 116, 97, 100, 246};


//: code
Byte str_sessionValue[] = {53, 4, 11, 61, 244, 74, 114, 60, 246, 5, 153, 101, 100, 111, 99, 149};


//: user_id
Byte str_keyDateValue[] = {28, 7, 7, 144, 36, 94, 241, 100, 105, 95, 114, 101, 115, 117, 92};


//: common_bg
Byte str_mediaLengthData[] = {20, 9, 7, 186, 137, 184, 167, 103, 98, 95, 110, 111, 109, 109, 111, 99, 100};


//: black_list_activity_remove_black
Byte str_valueTitle[] = {42, 32, 4, 196, 107, 99, 97, 108, 98, 95, 101, 118, 111, 109, 101, 114, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 116, 115, 105, 108, 95, 107, 99, 97, 108, 98, 47};


//: #009ADC
Byte str_cellContentLengthValue[] = {16, 7, 10, 183, 212, 252, 123, 208, 252, 80, 67, 68, 65, 57, 48, 48, 35, 129};


//: friend_info_activity_account
Byte str_modeImageData[] = {84, 28, 4, 177, 116, 110, 117, 111, 99, 99, 97, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 111, 102, 110, 105, 95, 100, 110, 101, 105, 114, 102, 197};


//: #999999
Byte str_insertValueData[] = {58, 7, 13, 146, 229, 200, 55, 188, 166, 103, 123, 49, 239, 57, 57, 57, 57, 57, 57, 35, 182};


//: /user/detail
Byte str_infoSchemeValue[] = {6, 12, 6, 110, 101, 49, 108, 105, 97, 116, 101, 100, 47, 114, 101, 115, 117, 47, 253};


//: black_list_activity_add_black_failed
Byte str_backgroundMediaData[] = {95, 36, 9, 142, 54, 85, 134, 218, 149, 100, 101, 108, 105, 97, 102, 95, 107, 99, 97, 108, 98, 95, 100, 100, 97, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 116, 115, 105, 108, 95, 107, 99, 97, 108, 98, 117};


//: add_friend_add_fail
Byte str_infoTitle[] = {36, 19, 12, 17, 166, 4, 253, 4, 142, 182, 43, 231, 108, 105, 97, 102, 95, 100, 100, 97, 95, 100, 110, 101, 105, 114, 102, 95, 100, 100, 97, 193};


//: group_chat_avatar_activity_add_black_success
Byte str_clientShouldData[] = {3, 44, 10, 179, 209, 151, 230, 174, 146, 131, 115, 115, 101, 99, 99, 117, 115, 95, 107, 99, 97, 108, 98, 95, 100, 100, 97, 95, 121, 116, 105, 118, 105, 116, 99, 97, 95, 114, 97, 116, 97, 118, 97, 95, 116, 97, 104, 99, 95, 112, 117, 111, 114, 103, 90};

// __DEBUG__
// __CLOSE_PRINT__
//
//  ContentViewController.m
//  NIM
//
//  Created by Yan Wang on 2024/7/30.
//  Copyright © 2024 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "ZMONFriendCardViewController.h"
#import "ContentViewController.h"
//: #import "CCCCommonTableDelegate.h"
#import "StreetwiseDelegate.h"
//: #import "UserCommonTableData.h"
#import "UserCommonTableData.h"
//: #import "UIView+Toast.h"
#import "UIView+Toast.h"
//: #import "SVProgressHUD.h"
#import "SVProgressHUD.h"
//: #import "NTESColorButtonCell.h"
#import "ColorTableViewCell.h"
//: #import "UIView+NTES.h"
#import "UIView+Status.h"
//: #import "NTESSessionViewController.h"
#import "PointBlankViewController.h"
//: #import "NTESBundleSetting.h"
#import "NameLine.h"
//: #import "UIAlertView+NTESBlock.h"
#import "UIAlertView+FullPhaseOfTheMoon.h"
//: #import "NTESUserUtil.h"
#import "InputUtil.h"
//: #import "HMDataPicker.h"
#import "PhoneMessageView.h"
//: #import "NTESOpinionBackViewController.h"
#import "TingOfViewController.h"

//: @interface ZMONFriendCardViewController ()<NIMUserManagerDelegate>
@interface ContentViewController ()<NIMUserManagerDelegate>


//: @property (nonatomic,copy ) NSString *userId;
@property (nonatomic,copy ) NSString *userId;
//: @property (nonatomic,strong) NIMUser *user;
@property (nonatomic,strong) NIMUser *user;


//: @property (nonatomic, strong) UIButton *closeBtn;
@property (nonatomic, strong) UIButton *closeBtn;
//: @property (nonatomic, strong) UIView *userView;
@property (nonatomic, strong) UIView *userView;
//: @property (nonatomic, strong) UIImageView *accountheadImg;
@property (nonatomic, strong) UIImageView *accountheadImg;
//: @property (nonatomic, strong) UILabel *accountNickname;
@property (nonatomic, strong) UILabel *accountNickname;
//: @property (nonatomic, strong) UILabel *accountId;
@property (nonatomic, strong) UILabel *accountId;
//: @property (nonatomic, strong) UILabel *account;
@property (nonatomic, strong) UILabel *account;

//: @property (nonatomic, strong) UIView *personView;
@property (nonatomic, strong) UIView *personView;

//: @end
@end

//: @implementation ZMONFriendCardViewController
@implementation ContentViewController

//: - (instancetype)initWithUserId:(NSString *)userId{
- (instancetype)initWithData:(NSString *)userId{
    //: self = [super initWithNibName:nil bundle:nil];
    self = [super initWithNibName:nil bundle:nil];
    //: if (self) {
    if (self) {
        //: _userId = userId;
        _userId = userId;
    }
    //: return self;
    return self;
}

//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: [self.navigationController.navigationBar setHidden:YES];
    [self.navigationController.navigationBar setHidden:YES];
}

//: - (void)viewWillDisappear:(BOOL)animated{
- (void)viewWillDisappear:(BOOL)animated{
    //: [super viewWillDisappear:animated];
    [super viewWillDisappear:animated];
    //: [self.navigationController.navigationBar setHidden:NO];
    [self.navigationController.navigationBar setHidden:NO];
}

//: - (void)backAction{
- (void)withItem{
    //: [self.navigationController popViewControllerAnimated:NO];
    [self.navigationController popViewControllerAnimated:NO];
}
//: - (void)dealloc{
- (void)dealloc{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
    //: [[NIMSDK sharedSDK].userManager removeDelegate:self];
    [[NIMSDK sharedSDK].userManager removeDelegate:self];
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
//    self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"common_bg"]];
    //: UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    //: bg.image = [UIImage imageNamed:@"common_bg"];
    bg.image = [UIImage imageNamed:StringFromFrameData(str_mediaLengthData)];
    //: [self.view addSubview:bg];
    [self.view addSubview:bg];

    //: self.closeBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    self.closeBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    //: self.closeBtn.backgroundColor = [UIColor clearColor];
    self.closeBtn.backgroundColor = [UIColor clearColor];
    //: [self.closeBtn setImage:[UIImage imageNamed:@"back_arrow_bl"] forState:(UIControlStateNormal)];
    [self.closeBtn setImage:[UIImage imageNamed:StringFromFrameData(str_clientImageData)] forState:(UIControlStateNormal)];
    //: [self.closeBtn addTarget:self action:@selector(backAction) forControlEvents:UIControlEventTouchUpInside];
    [self.closeBtn addTarget:self action:@selector(withItem) forControlEvents:UIControlEventTouchUpInside];
    //: [self.view addSubview:self.closeBtn];
    [self.view addSubview:self.closeBtn];
    //: self.closeBtn.frame = CGRectMake(15, 4+[UIDevice vg_statusBarHeight], 36, 36);
    self.closeBtn.frame = CGRectMake(15, 4+[UIDevice task], 36, 36);

    //: self.user = [[NIMSDK sharedSDK].userManager userInfo:self.userId];
    self.user = [[NIMSDK sharedSDK].userManager userInfo:self.userId];

    //: self.accountheadImg = [[UIImageView alloc] initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-120)/2, (44.0f + [UIDevice vg_statusBarHeight])+30, 120, 120)];
    self.accountheadImg = [[UIImageView alloc] initWithFrame:CGRectMake(([[UIScreen mainScreen] bounds].size.width-120)/2, (44.0f + [UIDevice task])+30, 120, 120)];
    //: self.accountheadImg.layer.cornerRadius = 60;
    self.accountheadImg.layer.cornerRadius = 60;
    //: self.accountheadImg.layer.masksToBounds = YES;
    self.accountheadImg.layer.masksToBounds = YES;
    //: [self.view addSubview:self.accountheadImg];
    [self.view addSubview:self.accountheadImg];
    //: [self.accountheadImg sd_setImageWithURL:[NSURL URLWithString:self.user.userInfo.avatarUrl] placeholderImage:[UIImage imageNamed:@"head_default"]];
    [self.accountheadImg sd_setImageWithURL:[NSURL URLWithString:self.user.userInfo.avatarUrl] placeholderImage:[UIImage imageNamed:StringFromFrameData(str_sizeTitleValue)]];

    //: self.accountNickname = [[UILabel alloc] initWithFrame:CGRectMake(15, self.accountheadImg.bottom+30, [[UIScreen mainScreen] bounds].size.width-30, 20)];
    self.accountNickname = [[UILabel alloc] initWithFrame:CGRectMake(15, self.accountheadImg.bottom+30, [[UIScreen mainScreen] bounds].size.width-30, 20)];
    //: self.accountNickname.font = [UIFont boldSystemFontOfSize:18];
    self.accountNickname.font = [UIFont boldSystemFontOfSize:18];
    //: self.accountNickname.textColor = [UIColor blackColor];
    self.accountNickname.textColor = [UIColor blackColor];
    //: self.accountNickname.text = self.user.userInfo.nickName;
    self.accountNickname.text = self.user.userInfo.nickName;
    //: self.accountNickname.textAlignment = NSTextAlignmentCenter;
    self.accountNickname.textAlignment = NSTextAlignmentCenter;
    //: [self.view addSubview:self.accountNickname];
    [self.view addSubview:self.accountNickname];

    //: self.account = [[UILabel alloc] initWithFrame:CGRectMake(15, self.accountNickname.bottom+10, [[UIScreen mainScreen] bounds].size.width-30, 15)];
    self.account = [[UILabel alloc] initWithFrame:CGRectMake(15, self.accountNickname.bottom+10, [[UIScreen mainScreen] bounds].size.width-30, 15)];
    //: self.account.font = [UIFont systemFontOfSize:12];
    self.account.font = [UIFont systemFontOfSize:12];
    //: self.account.textColor = [UIColor colorWithHexString:@"#999999"];
    self.account.textColor = [UIColor direction:StringFromFrameData(str_insertValueData)];
//    self.account.text = [NSString stringWithFormat:@"Account:%@",self.user.userId];
    //: self.account.textAlignment = NSTextAlignmentCenter;
    self.account.textAlignment = NSTextAlignmentCenter;
    //: [self.view addSubview:self.account];
    [self.view addSubview:self.account];


//    _personView = [[UIView alloc]initWithFrame:CGRectMake(15, self.account.bottom+30, SCREEN_WIDTH-30, 96)];
//    _personView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
//    _personView.layer.borderWidth = 0.5;
//    _personView.layer.borderColor = [UIColor colorWithRed:236/255.0 green:236/255.0 blue:236/255.0 alpha:1].CGColor;
//    _personView.layer.cornerRadius = 10;
//    _personView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
//    _personView.layer.shadowOffset = CGSizeMake(0,3);
//    _personView.layer.shadowOpacity = 1;
//    _personView.layer.shadowRadius = 0;
//    [self.view addSubview:_personView];
//
//    UIView *box1 = [[UIView alloc]initWithFrame:CGRectMake(15, 0, SCREEN_WIDTH-60, 48)];
//    box1.backgroundColor = [UIColor clearColor];
//    [_personView addSubview:box1];
//
//    UIImageView *image11 = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"ic_card_black"]];
//    image11.frame = CGRectMake(0, 15, 24, 24);
//    [box1 addSubview:image11];
//    UILabel *label11 = [[UILabel alloc] initWithFrame:CGRectMake(image11.right+12, image11.top, SCREEN_WIDTH-90-60, 24)];
//    label11.font = [UIFont systemFontOfSize:13.f];
//    label11.textColor = [UIColor blackColor];
//    label11.text = @"黑名单".nim_localized;
//    [box1 addSubview:label11];
//    UISwitch *switch11 = [[UISwitch alloc]initWithFrame:CGRectMake(SCREEN_WIDTH-60-51, image11.top-3, 51, 31)];
//    switch11.onTintColor = RGB_COLOR_String(@"#0183FD");
//    [switch11 addTarget:self action:@selector(onActionBlackListValueChange:) forControlEvents:UIControlEventValueChanged];
//    [box1 addSubview:switch11];
//
//
//
//    UIView *box2 = [[UIView alloc]initWithFrame:CGRectMake(15, box1.bottom, SCREEN_WIDTH-60, 48)];
//    box2.backgroundColor = [UIColor clearColor];
//    [_personView addSubview:box2];
//
//    UIImageView *image12 = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"ic_card_black"]];
//    image12.frame = CGRectMake(0, 15, 24, 24);
//    [box2 addSubview:image12];
//    UILabel *label12 = [[UILabel alloc] initWithFrame:CGRectMake(image12.right+12, image12.top, SCREEN_WIDTH-60-60, 24)];
//    label12.font = [UIFont systemFontOfSize:13.f];
//    label12.textColor = [UIColor blackColor];
//    label12.text = LangKey(@"report_activity_title");
//    [box2 addSubview:label12];
//    UIImageView *arrowright1 = [[UIImageView alloc] initWithFrame:CGRectMake(SCREEN_WIDTH-60-12, 21, 12, 12)];
//    arrowright1.image = [UIImage imageNamed:@"btn_right"];
//    [box2 addSubview:arrowright1];
//
//    box2.userInteractionEnabled = YES;
//    UITapGestureRecognizer *singleTap2 = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(reportsAction)];
//    [box2 addGestureRecognizer:singleTap2];


    //: UIButton *addBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *addBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    //: addBtn.frame = CGRectMake(15, self.account.bottom+30, [[UIScreen mainScreen] bounds].size.width-30, 44);
    addBtn.frame = CGRectMake(15, self.account.bottom+30, [[UIScreen mainScreen] bounds].size.width-30, 44);
    //: [addBtn addTarget:self action:@selector(sendAddFriendRequest) forControlEvents:UIControlEventTouchUpInside];
    [addBtn addTarget:self action:@selector(remarkValue) forControlEvents:UIControlEventTouchUpInside];
    //: addBtn.titleLabel.font = [UIFont systemFontOfSize:16];
    addBtn.titleLabel.font = [UIFont systemFontOfSize:16];
    //: [addBtn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    [addBtn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    //: [addBtn setTitle:[NTESLanguageManager getTextWithKey:@"add_friend_activity_add_friend"] forState:UIControlStateNormal];
    [addBtn setTitle:[MaxInformation off:StringFromFrameData(str_mediaNameValue)] forState:UIControlStateNormal];
//    [addBtn setImage:[UIImage imageNamed:@"ic_down"] forState:UIControlStateNormal];
//    [addBtn layoutButtonWithEdgeInsetsStyle:(MKButtonEdgeInsetsStyleLeft) imageTitleSpace:10];
    //: addBtn.backgroundColor = [UIColor colorWithHexString:@"#2BBCFB"];
    addBtn.backgroundColor = [UIColor direction:StringFromFrameData(str_showFileData)];
    //: addBtn.layer.cornerRadius = 10;
    addBtn.layer.cornerRadius = 10;
    //: addBtn.layer.shadowColor = [UIColor colorWithHexString:@"#009ADC"].CGColor;
    addBtn.layer.shadowColor = [UIColor direction:StringFromFrameData(str_cellContentLengthValue)].CGColor;
    //: addBtn.layer.shadowOffset = CGSizeMake(0,3);
    addBtn.layer.shadowOffset = CGSizeMake(0,3);
    //: addBtn.layer.shadowOpacity = 1;
    addBtn.layer.shadowOpacity = 1;
    //: addBtn.layer.shadowRadius = 0;
    addBtn.layer.shadowRadius = 0;
    //: [self.view addSubview:addBtn];
    [self.view addSubview:addBtn];


    //: [[NIMSDK sharedSDK].userManager addDelegate:self];
    [[NIMSDK sharedSDK].userManager addDelegate:self];

    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: dict[@"user_id"] = self.userId;
    dict[StringFromFrameData(str_keyDateValue)] = self.userId;
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/detail"] params:dict isShow:NO success:^(id responseObject) {
    [FromMessage maxColor:[NSString stringWithFormat:StringFromFrameData(str_infoSchemeValue)] flush:dict countIn:NO alongResponseSuccess:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict cord:StringFromFrameData(str_sessionValue)];
        //: if (code.integerValue <= 0) {
        if (code.integerValue <= 0) {
            //: NSDictionary *data = [resultDict valueObjectForKey:@"data"];
            NSDictionary *data = [resultDict eigenvalueOfAMatrix:StringFromFrameData(str_imageCornerValue)];
            //: NSString *account = [data newStringValueForKey:@"account"];
            NSString *account = [data cord:StringFromFrameData(str_thatText)];
//            self.accountLabel.hidden = NO;
            //: self.account.text = [NSString stringWithFormat:@"%@：%@",[NTESLanguageManager getTextWithKey:@"friend_info_activity_account"], account];
            self.account.text = [NSString stringWithFormat:@"%@：%@",[MaxInformation off:StringFromFrameData(str_modeImageData)], account];
//            [self.accountLabel sizeToFit];
//            self.accountId.text = account;
        }

    //: } failed:^(id responseObject, NSError *error) {
    } searched:^(id responseObject, NSError *error) {

    //: }];
    }];

}




//: - (void)refresh{
- (void)image{




}




//: #pragma mark - Action
#pragma mark - Action

//
//-(void)onActionGroup:(id)sender{
//
//    [SVProgressHUD show];
//    [FromMessage getWithUrl:Server_group_getgroups params:nil isShow:NO success:^(id responseObject) {
//        [SVProgressHUD dismissWithCompletion:^{
//            NSDictionary *resultDict = (NSDictionary *)responseObject;
//            NSString *code = [resultDict newStringValueForKey:@"code"];
//            if (code.integerValue == 0) {
//                NSArray *dataArray = [resultDict arrayValueForKey:@"data"];
//                NSDictionary *dataDict = [NSDictionary dictionaryWithObject:dataArray forKey:@"item_data"];
//                PhoneMessageView *dataPick = [[PhoneMessageView alloc] initWithDelegate:self dataDict:dataDict selectedDict:nil jsonNode:@"name"];
//                dataPick.tag = 500;
//                [dataPick show];
//            }
//        }];
//    } failed:^(id responseObject, NSError *error) {
//        [SVProgressHUD dismiss];
//        [self.view makeToast:LangKey(@"add_friend_request_fail")
//                    duration:2.0
//                    position:CSToastPositionCenter];
//    }];
//}



//: #pragma mark - HMDataPickerDelegate
#pragma mark - ViewDelegate

//: - (void)onActionBlackListValueChange:(id)sender{
- (void)bies:(id)sender{

    //: [self onActionBlackListValueChange_1:sender];
    [self signal:sender];//SDK拉黑
//    [self requestBlackChanged:sender];
}
////拉黑信息同步
//: -(void)requestBlackChanged:(id)sender{
-(void)emotionOn:(id)sender{
    //: UISwitch *switcher = sender;
    UISwitch *switcher = sender;

    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;

    //: if (switcher.on) {
    if (switcher.on) {
        //: NSMutableDictionary *dict = @{}.mutableCopy;
        NSMutableDictionary *dict = @{}.mutableCopy;
        //: dict[@"mobile"] = self.userId;
        dict[StringFromFrameData(str_dateMessageContent)] = self.userId;
        //: dict[@"type"] = @"1";
        dict[StringFromFrameData(str_keyText)] = @"1";//拉入黑名单
        //: [wself refresh];
        [wself image];

    //: }else{
    }else{
        //: NSMutableDictionary *dict = @{}.mutableCopy;
        NSMutableDictionary *dict = @{}.mutableCopy;
        //: dict[@"mobile"] = self.userId;
        dict[StringFromFrameData(str_dateMessageContent)] = self.userId;
        //: dict[@"type"] = @"0";
        dict[StringFromFrameData(str_keyText)] = @"0";//解除黑名单
        //: [wself refresh];
        [wself image];

    }
}

//: - (void)onActionBlackListValueChange_1:(id)sender{
- (void)signal:(id)sender{
    //: UISwitch *switcher = sender;
    UISwitch *switcher = sender;
    //: [SVProgressHUD show];
    [SVProgressHUD show];
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: if (switcher.on) {
    if (switcher.on) {
        //: [[NIMSDK sharedSDK].userManager addToBlackList:self.userId completion:^(NSError *error) {
        [[NIMSDK sharedSDK].userManager addToBlackList:self.userId completion:^(NSError *error) {
            //: [SVProgressHUD dismiss];
            [SVProgressHUD dismiss];
            //: if (!error) {
            if (!error) {
                //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"group_chat_avatar_activity_add_black_success"] duration:2.0f position:CSToastPositionCenter];
                [wself.view makeToast:[MaxInformation off:StringFromFrameData(str_clientShouldData)] duration:2.0f position:CSToastPositionCenter];
            //: }else{
            }else{
                //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"black_list_activity_add_black_failed"] duration:2.0f position:CSToastPositionCenter];
                [wself.view makeToast:[MaxInformation off:StringFromFrameData(str_backgroundMediaData)] duration:2.0f position:CSToastPositionCenter];
                //: [wself refresh];
                [wself image];
            }
        //: }];
        }];
    //: }else{
    }else{
        //: [[NIMSDK sharedSDK].userManager removeFromBlackBlackList:self.userId completion:^(NSError *error) {
        [[NIMSDK sharedSDK].userManager removeFromBlackBlackList:self.userId completion:^(NSError *error) {
            //: [SVProgressHUD dismiss];
            [SVProgressHUD dismiss];
            //: if (!error) {
            if (!error) {
                //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"black_list_activity_remove_black"] duration:2.0f position:CSToastPositionCenter];
                [wself.view makeToast:[MaxInformation off:StringFromFrameData(str_valueTitle)] duration:2.0f position:CSToastPositionCenter];
            //: }else{
            }else{
                //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"black_list_activity_remove_black_failed"] duration:2.0f position:CSToastPositionCenter];
                [wself.view makeToast:[MaxInformation off:StringFromFrameData(str_sendContent)] duration:2.0f position:CSToastPositionCenter];
                //: [wself refresh];
                [wself image];
            }
        //: }];
        }];
    }
}

//: - (void)onActionNeedNotifyValueChange:(id)sender{
- (void)nameMediaRead:(id)sender{
    //: UISwitch *switcher = sender;
    UISwitch *switcher = sender;
    //: [SVProgressHUD show];
    [SVProgressHUD show];
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: [[NIMSDK sharedSDK].userManager updateNotifyState:switcher.on forUser:self.userId completion:^(NSError *error) { [SVProgressHUD dismiss];
    [[NIMSDK sharedSDK].userManager updateNotifyState:switcher.on forUser:self.userId completion:^(NSError *error) { [SVProgressHUD dismiss];
        //: if (error) {
        if (error) {
            //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"group_info_activity_op_failed"] duration:2.0f position:CSToastPositionCenter];
            [wself.view makeToast:[MaxInformation off:StringFromFrameData(str_insertValue)] duration:2.0f position:CSToastPositionCenter];
            //: [wself refresh];
            [wself image];
        }
    //: }];
    }];
}



//: -(void)sendAddFriendRequest{
-(void)remarkValue{
    //: NSString *tempVerificationInfo = [NIMUserDefaults standardUserDefaults].tempVerificationInfo;
    NSString *tempVerificationInfo = [WastepaperBasketDefaults at].tempVerificationInfo;
    //: NIMUserRequest *request = [[NIMUserRequest alloc] init];
    NIMUserRequest *request = [[NIMUserRequest alloc] init];
    //: request.userId = self.userId;
    request.userId = self.userId;
    //: request.operation = NIMUserOperationAdd;
    request.operation = NIMUserOperationAdd;
//    if ([[NameLine sharedConfig] needVerifyForFriend]) {//需要验证
//        request.operation = NIMUserOperationRequest;
//        request.message = @"跪求通过".ntes_localized;
//    }
    //: request.operation = NIMUserOperationRequest;
    request.operation = NIMUserOperationRequest;
    //: request.message = tempVerificationInfo.length > 0 ? tempVerificationInfo : @"";
    request.message = tempVerificationInfo.length > 0 ? tempVerificationInfo : @"";

    //: NSString *contact_tag_fragment_add_success = [NTESLanguageManager getTextWithKey:@"contact_tag_fragment_add_success"];
    NSString *contact_tag_fragment_add_success = [MaxInformation off:StringFromFrameData(str_iconContent)];//@"添加成功".ntes_localized
    //: NSString *request_successful = [NTESLanguageManager getTextWithKey:@"request_successful"];
    NSString *request_successful = [MaxInformation off:StringFromFrameData(str_cornerPostData)];//@"请求成功".ntes_localized
    //: NSString *add_friend_add_fail = [NTESLanguageManager getTextWithKey:@"add_friend_add_fail"];
    NSString *add_friend_add_fail = [MaxInformation off:StringFromFrameData(str_infoTitle)];//@"添加失败".ntes_localized
    //: NSString *add_friend_request_fail = [NTESLanguageManager getTextWithKey:@"add_friend_request_fail"];
    NSString *add_friend_request_fail = [MaxInformation off:StringFromFrameData(str_cameraData)];//@"请求失败".ntes_localized
    //: NSString *successText = request.operation == NIMUserOperationAdd ? contact_tag_fragment_add_success: request_successful;
    NSString *successText = request.operation == NIMUserOperationAdd ? contact_tag_fragment_add_success: request_successful;
    //: NSString *failedText = request.operation == NIMUserOperationAdd ? add_friend_add_fail : add_friend_request_fail;
    NSString *failedText = request.operation == NIMUserOperationAdd ? add_friend_add_fail : add_friend_request_fail;

    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: [SVProgressHUD show];
    [SVProgressHUD show];
    //: [[NIMSDK sharedSDK].userManager requestFriend:request completion:^(NSError *error) {
    [[NIMSDK sharedSDK].userManager requestFriend:request completion:^(NSError *error) {
        //: [SVProgressHUD dismiss];
        [SVProgressHUD dismiss];
        //: if (!error) {
        if (!error) {
            //: [wself.view makeToast:successText
            [wself.view makeToast:successText
                         //: duration:2.0f
                         duration:2.0f
                         //: position:CSToastPositionCenter];
                         position:CSToastPositionCenter];
            //: [wself refresh];
            [wself image];
        //: }else{
        }else{
            //: [wself.view makeToast:failedText
            [wself.view makeToast:failedText
                         //: duration:2.0f
                         duration:2.0f
                         //: position:CSToastPositionCenter];
                         position:CSToastPositionCenter];
        }
    //: }];
    }];
}





//: #pragma mark - NIMUserManagerDelegate
#pragma mark - NIMUserManagerDelegate

//: - (void)onUserInfoChanged:(NIMUser *)user
- (void)onUserInfoChanged:(NIMUser *)user
{
    //: if ([user.userId isEqualToString:self.userId]) {
    if ([user.userId isEqualToString:self.userId]) {
        //: [self refresh];
        [self image];
    }
}

//: - (void)onFriendChanged:(NIMUser *)user{
- (void)onFriendChanged:(NIMUser *)user{
    //: if ([user.userId isEqualToString:self.userId]) {
    if ([user.userId isEqualToString:self.userId]) {
        //: [self refresh];
        [self image];
    }
}

//: - (void)onBlackListChanged{
- (void)onBlackListChanged{
    //: [self refresh];
    [self image];
}

//: - (void)onMuteListChanged
- (void)onMuteListChanged
{
    //: [self refresh];
    [self image];
}



//: - (void)reportsAction {
- (void)completeColor {
    //: NTESOpinionBackViewController *vc = [[NTESOpinionBackViewController alloc]init];
    TingOfViewController *vc = [[TingOfViewController alloc]init];
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}
//: @end
@end

Byte * FrameDataToCache(Byte *data) {
    int paradigm = data[0];
    int sessionLink = data[1];
    int bulkRecord = data[2];
    if (!paradigm) return data + bulkRecord;
    for (int i = 0; i < sessionLink / 2; i++) {
        int begin = bulkRecord + i;
        int end = bulkRecord + sessionLink - i - 1;
        Byte temp = data[begin];
        data[begin] = data[end];
        data[end] = temp;
    }
    data[0] = 0;
    data[bulkRecord + sessionLink] = 0;
    return data + bulkRecord;
}

NSString *StringFromFrameData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)FrameDataToCache(data)];
}  
